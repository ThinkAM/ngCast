{"version":3,"file":"thinkam.net-ng-cast.umd.js","sources":["../../shared/ng-cast.service.ts","../../dto/schedule-dto.ts","../../ng-cast.component.ts","../../ng.cast.module.ts","../../cast-videos.js","../../thinkam.net-ng-cast.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\n\nimport { Subject } from 'rxjs';\n\ndeclare global {\n  var CastPlayer: any;\n}\n\n@Injectable()\nexport class NgCastService {\n  private cast: any;\n  private currentMedia: any;\n  private window: any = window;\n\n  public status = {\n    casting: false\n  };\n\n  constructor() {\n    globalThis.CastPlayer.mediaJSON = {\n      categories: []\n    };\n  }\n\n  initializeCastApi() {\n    this.cast = this.window['chrome'].cast;\n    let sessionRequest = new this.cast.SessionRequest('4F8B3483');\n    let apiConfig = new this.cast.ApiConfig(sessionRequest,\n      () => { },\n      (status: any) => { if (status === this.cast.ReceiverAvailability.AVAILABLE) { } }\n    );\n    let x = this.cast.initialize(apiConfig, this.onInitSuccess, this.onError);\n  };\n\n  onInitSuccess = function () {\n    console.log('GCast initialization success');\n  };\n\n  onError = function (err: any) {\n    console.log('GCast initialization failed', err);\n  };\n\n  discoverDevices = () => {\n    let self: any = this;\n    let subj = new Subject();\n    this.cast.requestSession((s: any) => {\n      self.session = s;\n      self.setCasting(true);\n      subj.next('CONNECTED');\n    }, function (err: any) {\n      self.setCasting(false);\n      if (err.code === 'cancel') {\n        self.session = undefined;\n        subj.next('CANCEL');\n      } else {\n        console.error('Error selecting a cast device', err);\n      }\n    });\n    return subj;\n  };\n\n  onMediaDiscovered = (categories: any[]) => {\n    let script = window['document'].createElement('script');\n    script.setAttribute('type', 'text/javascript');\n    script.setAttribute('src', 'https://www.gstatic.com/cv/js/sender/v1/cast_sender.js?loadCastFramework=1');\n    window['document'].body.appendChild(script);\n\n    globalThis.CastPlayer.mediaJSON.categories = categories;\n\n    return globalThis.CastPlayer.addMediaContents();\n  };\n\n  initialize(mediaContents: any): void {\n    if (mediaContents) {\n      globalThis.CastPlayer.initializeUI();\n      globalThis.CastPlayer.setupLocalPlayer();\n      globalThis.CastPlayer.initializeCastPlayer();\n    }\n  }\n\n  play = () => {\n    this.currentMedia.play(null);\n  };\n\n  pause = () => {\n    this.currentMedia.pause(null);\n  };\n\n  stop = () => {\n    this.currentMedia.stop(null);\n  };\n\n  onMediaError = (err: any) => {\n    console.error('Error launching media', err);\n  };\n\n  setCasting(value: any) {\n    this.status.casting = value;\n    globalThis.CastPlayer.setupRemotePlayer();\n  }\n\n  getStatus() {\n    return this.status\n  }\n}\n","import { TenantDto } from './tenant-dto';\n\nexport interface IScheduleDto {\n    id: string | undefined;\n    tenant: TenantDto | undefined;\n    name: string | undefined;\n    description: string | undefined;\n    url: string | undefined;\n    duration: number | undefined;\n    actualStart: Date;\n    realEnd?: Date | undefined;\n    isActive: boolean | undefined;\n}\n\nexport class ScheduleDto implements IScheduleDto {\n    id: string | undefined;\n    tenant: TenantDto | undefined;\n    name: string | undefined;\n    description: string | undefined;\n    url: string | undefined;\n    duration: number | undefined;\n    actualStart!: Date;\n    realEnd?: Date | undefined;\n    isActive: boolean | undefined;\n\n    constructor(data?: IScheduleDto) {\n        if (data) {\n            for (let property in data) {\n                if (data.hasOwnProperty(property)) {\n                    (<any>this)[property] = (<any>data)[property];\n                }\n            }\n        }\n    }\n\n    static fromJS(data: any): ScheduleDto {\n        data = typeof data === 'object' ? data : {};\n        let result = new ScheduleDto();\n        result.init(data);\n        return result;\n    }\n\n    init(data?: any) {\n        if (data) {\n            this.id = data['id'];\n            this.tenant = data['tenant'];\n            this.name = data['name'];\n            this.description = data['description'];\n            this.url = data['url'];\n            this.duration = data['duration'];\n            this.actualStart = data['actualStart'];\n            this.realEnd = data['realEnd'];\n            this.isActive = data['isActive'];\n        }\n    }\n\n    toJSON(data?: any) {\n        data = typeof data === 'object' ? data : {};\n        data['id'] = this.id;\n        data['tenant'] = this.tenant;\n        data['name'] = this.name;\n        data['description'] = this.description;\n        data['url'] = this.url;\n        data['duration'] = this.duration;\n        data['actualStart'] = this.actualStart;\n        data['realEnd'] = this.realEnd;\n        data['isActive'] = this.isActive;\n        return data;\n    }\n}\n","import { Component, Input, OnInit, ViewChild, ElementRef } from '@angular/core';\n\nimport { NgCastService } from './shared/ng-cast.service';\n\nimport { VgDASH } from 'videogular2/compiled/src/streaming/vg-dash/vg-dash';\nimport { IDRMLicenseServer } from 'videogular2/compiled/src/streaming/streaming';\nimport { VgAPI, BitrateOption } from 'videogular2/compiled/core';\n\nimport { ScheduleDto } from './dto/schedule-dto';\n\nexport interface IMediaStream {\n  type: 'vod' | 'dash';\n  source: string;\n  label: string;\n  token?: string;\n  licenseServers?: IDRMLicenseServer;\n}\n\n@Component({\n  selector: 'ng-cast',\n  templateUrl: './ng-cast.component.html',\n  styleUrls: [\n    './ng-cast.component.scss'\n  ]\n})\nexport class NgCastComponent implements OnInit {\n  @ViewChild(VgDASH, { static: false }) vgDash!: VgDASH;\n  @ViewChild('media', { static: false }) media!: ElementRef<HTMLVideoElement>;\n\n  castingStatus: any;\n  window: any;\n\n  @Input() videoImage = '';\n  @Input() imageOffline = false;\n  @Input() premium = false;\n  @Input() srcImageOffline = '';\n\n  @Input() currentStream: IMediaStream = {\n    type: 'dash',\n    label: 'DASH: Media Stream test',\n    source: 'http://livesim.dashif.org/livesim/testpic_2s/Manifest.mpd'\n  };\n\n  api: VgAPI = new VgAPI();\n\n  @Input() isDebug = false;\n\n  @Input() paused = false;\n\n  @Input() streams: IMediaStream[] = [\n    {\n      type: 'dash',\n      label: 'DASH: Media Stream test',\n      source: 'http://livesim.dashif.org/livesim/testpic_2s/Manifest.mpd'\n    }\n  ];\n\n  @Input() playlist: Array<ScheduleDto> = [];\n\n  @Input() play = false;\n  @Input() isHidden = false;\n  @Input() isShow = true;\n\n  @Input() currentIndex = 0;\n  @Input() video: ScheduleDto = new ScheduleDto();\n  @Input() appBaseUrl: String = '';\n\n  constructor(\n    private ngCastService: NgCastService\n  ) { }\n\n  ngOnInit() {\n    this.window = window;\n    this.currentStream = this.streams[0];\n\n    let ngCastService = this.ngCastService;\n    this.window['__onGCastApiAvailable'] = function (isAvailable: boolean) {\n      if (isAvailable) {\n        ngCastService.initializeCastApi();\n      }\n    };\n\n    this.castingStatus = this.ngCastService.getStatus();\n  }\n\n  onPlayerReady(api: VgAPI) {\n    this.api = api;\n\n    this.api.getDefaultMedia().subscriptions.ended.subscribe(this.nextVideo.bind(this));\n  }\n\n  setBitrate(option: BitrateOption) {\n    switch (this.currentStream.type) {\n      case 'dash':\n        this.vgDash.setBitrate(option);\n        break;\n    }\n  }\n\n  nextVideo() {\n    this.currentIndex++;\n\n    if (this.currentIndex === this.playlist.length) {\n      this.currentIndex = 0;\n    }\n\n    this.video = this.playlist[this.currentIndex];\n  }\n\n  getPaused() {\n    if (this.media && this.media.nativeElement) {\n      this.paused = this.media.nativeElement.paused;\n      return this.media.nativeElement.paused;\n    } else {\n      setTimeout(() => {\n        return this.getPaused();\n      }, 2000);\n    }\n  }\n\n  pause(): void {\n    this.media.nativeElement.pause();\n    this.getPaused();\n  }\n\n  openSession() {\n    this.ngCastService.discoverDevices();\n  }\n\n  closeSession() {\n    this.ngCastService.discoverDevices();\n  }\n\n  tryAgain() {\n    this.imageOffline = true;\n    this.isHidden = true;\n    console.log('loading...');\n\n    setTimeout(() => {\n      this.getVideos();\n    }, 500);\n  }\n\n  getVideos(): void {\n    if (this.playlist && this.playlist.length > 0) {\n      this.imageOffline = false;\n      this.video = this.playlist[this.currentIndex];\n\n      this.getPosition(this.video);\n    } else {\n      this.video = new ScheduleDto();\n      this.tryAgain();\n    }\n  }\n\n  getPosition(result: ScheduleDto) {\n    setTimeout(() => {\n      let vid: any = document.getElementById('video_element');\n      vid.load();\n\n      const now = new Date();\n      const currentTime = Math.abs(now.getTime() - new Date(this.video.actualStart).getTime());\n\n      console.log('Temos no player: ' + result.url);\n      console.log('InÃ­cio em: ' + currentTime);\n\n      this.video.url = result.url;\n      vid['currentTime'] = currentTime / 1000;\n\n      let promise = vid.play();\n      if (promise !== undefined) {\n        promise.then((_: any) => {\n          // Autoplay started!\n          console.log('Estamos ao vivo!');\n        }).catch(() => {\n          // Autoplay was prevented.\n          // Show a \"Play\" button so that user can start playback.\n          this.play = true;\n        });\n      }\n    }, 1000);\n  }\n\n  getMuted(): boolean {\n    return this.media && this.media.nativeElement && this.media.nativeElement.muted || false;\n  }\n\n  getMaximized(): boolean {\n    return this.api && this.api.fsAPI && this.api.fsAPI.isFullscreen && this.api.fsAPI.isFullscreen || false;\n  }\n\n  toggleSound(): void {\n    this.media.nativeElement.muted = !this.media.nativeElement.muted;\n  }\n\n  toggleMaximize(): void {\n    this.api.fsAPI.toggleFullscreen(this.media);\n  }\n\n  showVideoControls(): void {\n    this.isHidden = false;\n    this.isShow = true;\n  }\n\n  hideVideoControls(): void {\n    this.isHidden = true;\n    this.isShow = false;\n  }\n}\n","import { CUSTOM_ELEMENTS_SCHEMA, NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { NgCastComponent } from './ng-cast.component';\nimport { NgCastService } from './shared/ng-cast.service';\n\nimport { VgCoreModule } from 'videogular2/compiled/core';\nimport { VgControlsModule } from 'videogular2/compiled/controls';\nimport { VgStreamingModule } from 'videogular2/compiled/streaming';\nimport { VgBufferingModule } from 'videogular2/compiled/buffering';\nimport { VgOverlayPlayModule } from 'videogular2/compiled/overlay-play';\n\n@NgModule({\n  schemas: [ CUSTOM_ELEMENTS_SCHEMA ],\n  imports: [\n    CommonModule,\n    VgCoreModule,\n    VgControlsModule,\n    VgStreamingModule,\n    VgBufferingModule,\n    VgOverlayPlayModule,\n  ],\n  exports: [NgCastComponent],\n  providers: [NgCastService],\n  declarations: [NgCastComponent]\n})\nexport class NgCastModule { }\n","\"use strict\";\n\n/** @const {string} Media source root URL */\nconst MEDIA_SOURCE_ROOT = '';\n\n/**\n * Width of progress bar in pixel\n * @const\n */\nvar PROGRESS_BAR_WIDTH = 600;\n\n/** @const {number} Time in milliseconds for minimal progress update */\nvar TIMER_STEP = 1000;\n\n/** @const {number} Cast volume upon initial connection */\nvar DEFAULT_VOLUME = 0.5;\n\n/** @const {number} Height, in pixels, of volume bar */\nvar FULL_VOLUME_HEIGHT = 100;\n\n/** @enum {string} Constants of states for media for both local and remote playback */\nconst PLAYER_STATE = {\n  // No media is loaded into the player. For remote playback, maps to\n  // the PlayerState.IDLE state.\n  IDLE: 'IDLE',\n  LOADING: 'LOADING',\n  // Player is in PLAY mode but not actively playing content. For remote\n  // playback, maps to the PlayerState.BUFFERING state.\n  BUFFERING: 'BUFFERING',\n  // The media is loaded but not playing.\n  LOADED: 'LOADED',\n  // The media is playing. For remote playback, maps to the PlayerState.PLAYING state.\n  PLAYING: 'PLAYING',\n  // The media is paused. For remote playback, maps to the PlayerState.PAUSED state.\n  PAUSED: 'PAUSED',\n  STOPPED: 'STOPPED',\n  ERROR: 'ERROR'\n};\n\n/**\n * Cast player object\n * Main variables:\n *  - PlayerHandler object for handling media playback\n *  - Cast player variables for controlling Cast mode media playback\n *  - Current media variables for transition between Cast and local modes\n *  - Current ad variables for controlling UI based on ad playback\n *  - Current live variables for controlling UI based on ad playback\n * @struct @constructor\n */\nvar CastPlayer = function () {\n  /** @type {PlayerHandler} Delegation proxy for media playback */\n  this.playerHandler = new PlayerHandler(this);\n\n  /** @type {PLAYER_STATE} A state for media playback */\n  this.playerState = PLAYER_STATE.IDLE;\n\n  /**\n   * @type {PLAYER_STATE} Player state before switching between local and\n   * remote playback.\n   */\n  this.playerStateBeforeSwitch = null;\n\n  /* Cast player variables */\n  /** @type {cast.framework.RemotePlayer} */\n  this.remotePlayer = null;\n  /** @type {cast.framework.RemotePlayerController} */\n  this.remotePlayerController = null;\n\n  /* Local+Remote player variables */\n  /** @type {number} A number for current time in seconds. Maintained in media time. */\n  this.currentMediaTime = 0;\n  /**\n   * @type {?number} A number for current duration in seconds. Maintained in media time.\n   * Null if duration should not be shown.\n   */\n  this.mediaDuration = -1;\n\n  /** @type {?number} A timer for tracking progress of media */\n  this.timer = null;\n  /** @type {function()} Listener for handling current time increments */\n  this.incrementMediaTimeHandler = this.incrementMediaTime.bind(this);\n  /** @type {function()} Listener to be added/removed for the seek action */\n  this.seekMediaListener = this.seekMedia.bind(this);\n\n  /* Local player variables */\n  /** @type {number} A number for current media index */\n  this.currentMediaIndex = 0;\n  /** @type {?Object} media contents from JSON */\n  this.mediaContents = null;\n  /** @type {boolean} Fullscreen mode on/off */\n  this.fullscreen = false;\n\n  /* Remote Player variables */\n  /** @type {?chrome.cast.media.MediaInfo} Current mediaInfo */\n  this.mediaInfo = null;\n  /* Ad variables */\n  /**\n   * @type {?number} The time in seconds when the break clip becomes skippable.\n   * 5 means that the end user can skip this break clip after 5 seconds. If\n   * negative or not defined, it means that the current break clip is not skippable.\n   */\n  this.whenSkippable = null;\n\n  /* Live variables */\n  /** @type {?chrome.cast.media.LiveSeekableRange} Seekable range for live content */\n  this.liveSeekableRange = null;\n  /** @type {boolean} Remote player is playing live content. */\n  this.isLiveContent = false;\n\n  this.mediaJSON = {\n    'categories': []\n  };\n};\n\nCastPlayer.prototype.initializeCastPlayer = () => {\n  var options = {};\n\n  // Set the receiver application ID to your own (created in the\n  // Google Cast Developer Console), or optionally\n  // use the chrome.cast.media.DEFAULT_MEDIA_RECEIVER_APP_ID\n  options.receiverApplicationId = '4F8B3483';\n\n  // Auto join policy can be one of the following three:\n  // ORIGIN_SCOPED - Auto connect from same appId and page origin\n  // TAB_AND_ORIGIN_SCOPED - Auto connect from same appId, page origin, and tab\n  // PAGE_SCOPED - No auto connect\n  options.autoJoinPolicy = chrome.cast.AutoJoinPolicy.ORIGIN_SCOPED;\n\n  cast.framework.CastContext.getInstance().setOptions(options);\n\n  castPlayer.remotePlayer = new cast.framework.RemotePlayer();\n  castPlayer.remotePlayerController = new cast.framework.RemotePlayerController(castPlayer.remotePlayer);\n  castPlayer.remotePlayerController.addEventListener(\n      cast.framework.RemotePlayerEventType.IS_CONNECTED_CHANGED,\n      castPlayer.switchPlayer.bind(castPlayer)\n  );\n};\n\n/**\n * Switch between the remote and local players.\n */\nCastPlayer.prototype.switchPlayer = () => {\n  castPlayer.stopProgressTimer();\n  castPlayer.resetVolumeSlider();\n  castPlayer.playerHandler.stop();\n  castPlayer.playerState = PLAYER_STATE.IDLE;\n  if (cast && cast.framework) {\n      if (castPlayer.remotePlayer.isConnected) {\n        castPlayer.setupRemotePlayer();\n          return;\n      }\n  }\n  castPlayer.setupLocalPlayer();\n};\n\n/**\n * PlayerHandler\n *\n * This is a handler through which the application will interact\n * with both the RemotePlayer and LocalPlayer. Combining these two into\n * one interface is one approach to the dual-player nature of a Cast\n * Chrome application. Otherwise, the state of the RemotePlayer can be\n * queried at any time to decide whether to interact with the local\n * or remote players.\n *\n * To set the player used, implement the following methods for a target object\n * and call setTarget(target).\n *\n * Methods to implement:\n *  - play()\n *  - pause()\n *  - stop()\n *  - seekTo(time)\n *  - load(mediaIndex)\n *  - isMediaLoaded(mediaIndex)\n *  - prepareToPlay()\n *  - getMediaDuration()\n *  - getCurrentMediaTime()\n *  - setVolume(volumeSliderPosition)\n *  - mute()\n *  - unMute()\n *  - isMuted()\n *  - updateDisplay()\n *  - updateCurrentTimeDisplay()\n *  - updateDurationDisplay()\n *  - setTimeString(element, time)\n */\nvar PlayerHandler = function (castPlayer) {\n  this.target = {};\n\n  this.setTarget = function (target) {\n    this.target = target;\n  };\n\n  this.play = function () {\n    if (castPlayer.playerState !== PLAYER_STATE.PLAYING &&\n      castPlayer.playerState !== PLAYER_STATE.PAUSED &&\n      castPlayer.playerState !== PLAYER_STATE.LOADED) {\n      this.load(castPlayer.currentMediaIndex);\n      return;\n    }\n\n    this.target.play();\n    castPlayer.playerState = PLAYER_STATE.PLAYING;\n    document.getElementById('play').style.display = 'none';\n    document.getElementById('pause').style.display = 'block';\n    this.updateDisplayMessage();\n  };\n\n  this.updateDisplayMessage = function () {\n    this.target.updateDisplayMessage();\n  }\n\n  this.pause = function () {\n    this.target.pause();\n    castPlayer.playerState = PLAYER_STATE.PAUSED;\n    document.getElementById('play').style.display = 'block';\n    document.getElementById('pause').style.display = 'none';\n  };\n\n  this.stop = function () {\n    castPlayer.playerState = PLAYER_STATE.IDLE;\n    this.target.stop();\n  };\n\n  this.load = function (mediaIndex = null) {\n    if (!mediaIndex) {\n      mediaIndex = castPlayer.currentMediaIndex;\n    }\n    castPlayer.playerState = PLAYER_STATE.BUFFERING;\n    this.target.load(mediaIndex);\n  };\n\n  /**\n   * Check if media has been loaded on the target player.\n   * @param {number?} mediaIndex The desired media index. If null, verify if\n   *  any media is loaded.\n   */\n  this.isMediaLoaded = function (mediaIndex) {\n    return this.target.isMediaLoaded(mediaIndex);\n  };\n\n  /**\n   * Called after media has been successfully loaded and is ready to start playback.\n   * When local, will start playing the video, start the timer, and update the UI.\n   * When remote, will set the UI to PLAYING and start the timer to update the\n   *   UI based on remote playback.\n   */\n  this.prepareToPlay = function () {\n    castPlayer.mediaDuration = this.getMediaDuration();\n    castPlayer.playerHandler.updateDurationDisplay();\n    castPlayer.playerState = PLAYER_STATE.LOADED;\n\n    this.play();\n    castPlayer.startProgressTimer();\n    this.updateDisplay();\n  };\n\n  this.loaded = function() {\n    castPlayer.currentMediaDuration = this.getMediaDuration();\n    castPlayer.updateMediaDuration();\n    castPlayer.playerState = PLAYER_STATE.LOADED;\n    if (castPlayer.currentMediaTime > 0) {\n        this.seekTo(castPlayer.currentMediaTime);\n    }\n    this.play();\n    castPlayer.startProgressTimer();\n    this.updateDisplayMessage();\n  };\n\n  this.getCurrentMediaTime = function () {\n    return this.target.getCurrentMediaTime();\n  };\n\n  this.getMediaDuration = function () {\n    return this.target.getMediaDuration();\n  };\n\n  this.updateDisplay = function () {\n    // Update local variables\n    this.currentMediaTime = this.target.getCurrentMediaTime();\n    this.mediaDuration = this.target.getMediaDuration();\n\n    this.target.updateDisplay();\n  };\n\n  this.updateCurrentTimeDisplay = function () {\n    this.target.updateCurrentTimeDisplay();\n  };\n\n  /**\n   * Determines the correct time string (media or clock) and sets it for the given element.\n   */\n  this.setTimeString = function (element, time) {\n    this.target.setTimeString(element, time);\n  };\n\n  this.setVolume = function (volumeSliderPosition) {\n    this.target.setVolume(volumeSliderPosition);\n  };\n\n  this.mute = function () {\n    this.target.mute();\n    document.getElementById('audio_on').style.display = 'none';\n    document.getElementById('audio_off').style.display = 'block';\n  };\n\n  this.unMute = function () {\n    this.target.unMute();\n    document.getElementById('audio_on').style.display = 'block';\n    document.getElementById('audio_off').style.display = 'none';\n  };\n\n  this.isMuted = function () {\n    return this.target.isMuted();\n  };\n\n  this.seekTo = function (time) {\n    this.target.seekTo(time);\n  };\n};\n\n/**\n * Set the PlayerHandler target to use the video-element player\n */\nCastPlayer.prototype.setupLocalPlayer = () => {\n  var localPlayer = document.getElementById('video_element');\n  localPlayer.addEventListener(\n    'loadeddata', castPlayer.onMediaLoadedLocally.bind(castPlayer));\n\n  // This object will implement PlayerHandler callbacks with localPlayer\n  var playerTarget = {};\n\n  playerTarget.play = () => {\n    localPlayer.play();\n\n    var vi = document.getElementById('video_image');\n    vi.style.display = 'none';\n    localPlayer.style.display = 'block';\n  };\n\n  playerTarget.pause = function () {\n    localPlayer.pause();\n  };\n\n  playerTarget.stop = function () {\n    if (typeof localPlayer.stop === \"function\")\n      localPlayer.stop();\n  };\n\n  playerTarget.load = function (mediaIndex) {\n    localPlayer.src =\n      castPlayer.mediaContents[mediaIndex]['sources'][0];\n    localPlayer.load();\n  }.bind(castPlayer);\n\n  playerTarget.getCurrentMediaTime = function () {\n    return localPlayer.currentTime;\n  };\n\n  playerTarget.getMediaDuration = function () {\n    return localPlayer.duration;\n  };\n\n  playerTarget.updateDisplayMessage = function () {\n    document.getElementById('playerstate').style.display = 'none';\n    document.getElementById('playerstatebg').style.display = 'none';\n    document.getElementById('video_image_overlay').style.display = 'none';\n  };\n\n  playerTarget.setVolume = function (volumeSliderPosition) {\n    localPlayer.volume = volumeSliderPosition < FULL_VOLUME_HEIGHT ?\n      volumeSliderPosition / FULL_VOLUME_HEIGHT : 1;\n    var p = document.getElementById('audio_bg_level');\n    p.style.height = volumeSliderPosition + 'px';\n    p.style.marginTop = -volumeSliderPosition + 'px';\n  };\n\n  playerTarget.mute = function () {\n    localPlayer.muted = true;\n  };\n\n  playerTarget.unMute = function () {\n    localPlayer.muted = false;\n  };\n\n  playerTarget.isMuted = function () {\n    return localPlayer.muted;\n  };\n\n  playerTarget.seekTo = function (time) {\n    localPlayer.currentTime = time;\n  };\n\n  castPlayer.playerHandler.setTarget(playerTarget);\n\n  castPlayer.playerHandler.setVolume(DEFAULT_VOLUME * FULL_VOLUME_HEIGHT);\n\n  castPlayer.showFullscreenButton();\n\n  if (castPlayer.currentMediaTime > 0) {\n    castPlayer.playerHandler.play();\n  }\n};\n\n/**\n * Set the PlayerHandler target to use the remote player\n * Add event listeners for player changes which may occur outside sender app.\n */\nCastPlayer.prototype.setupRemotePlayer = function () {\n  var castSession = cast.framework.CastContext.getInstance().getCurrentSession();\n\n  // Add event listeners for player changes which may occur outside sender app\n  castPlayer.remotePlayerController.addEventListener(\n      cast.framework.RemotePlayerEventType.IS_PAUSED_CHANGED,\n      function() {\n          if (castPlayer.remotePlayer.isPaused) {\n              castPlayer.playerHandler.pause();\n          } else {\n              castPlayer.playerHandler.play();\n          }\n      }.bind(castPlayer)\n  );\n\n  castPlayer.remotePlayerController.addEventListener(\n      cast.framework.RemotePlayerEventType.IS_MUTED_CHANGED,\n      function() {\n          if (castPlayer.remotePlayer.isMuted) {\n              castPlayer.playerHandler.mute();\n          } else {\n              castPlayer.playerHandler.unMute();\n          }\n      }.bind(castPlayer)\n  );\n\n  castPlayer.remotePlayerController.addEventListener(\n      cast.framework.RemotePlayerEventType.VOLUME_LEVEL_CHANGED,\n      function() {\n          var newVolume = castPlayer.remotePlayer.volumeLevel * FULL_VOLUME_HEIGHT;\n          var p = document.getElementById('audio_bg_level');\n          p.style.height = newVolume + 'px';\n          p.style.marginTop = -newVolume + 'px';\n      }.bind(castPlayer)\n  );\n\n  // castPlayer object will implement PlayerHandler callbacks with\n  // remotePlayerController, and makes necessary UI updates specific\n  // to remote playback\n  var playerTarget = {};\n\n  playerTarget.play = function () {\n      if (castPlayer.remotePlayer.isPaused) {\n          castPlayer.remotePlayerController.playOrPause();\n      }\n\n      var vi = document.getElementById('video_image');\n      vi.style.display = 'block';\n      var localPlayer = document.getElementById('video_element');\n      localPlayer.style.display = 'none';\n  }.bind(castPlayer);\n\n  playerTarget.pause = function () {\n      if (!castPlayer.remotePlayer.isPaused) {\n          castPlayer.remotePlayerController.playOrPause();\n      }\n  }.bind(castPlayer);\n\n  playerTarget.stop = function () {\n       castPlayer.remotePlayerController.stop();\n  }.bind(castPlayer);\n\n  playerTarget.load = function (mediaIndex) {\n      console.log('Loading...' + castPlayer.mediaContents[mediaIndex]['title']);\n      var mediaInfo = new chrome.cast.media.MediaInfo(\n          castPlayer.mediaContents[mediaIndex]['sources'][0], 'video/mp4');\n\n      mediaInfo.metadata = new chrome.cast.media.GenericMediaMetadata();\n      mediaInfo.metadata.metadataType = chrome.cast.media.MetadataType.GENERIC;\n      mediaInfo.metadata.title = castPlayer.mediaContents[mediaIndex]['title'];\n      mediaInfo.metadata.images = [\n          {'url': MEDIA_SOURCE_ROOT + castPlayer.mediaContents[mediaIndex]['thumb']}];\n\n      var request = new chrome.cast.media.LoadRequest(mediaInfo);\n      castSession.loadMedia(request).then(\n          castPlayer.playerHandler.loaded.bind(castPlayer.playerHandler),\n          function (errorCode) {\n              castPlayer.playerState = PLAYER_STATE.ERROR;\n              console.log('Remote media load error: ' +\n                  CastPlayer.getErrorMessage(errorCode));\n          }.bind(castPlayer));\n  }.bind(castPlayer);\n\n  playerTarget.getCurrentMediaTime = function() {\n      return castPlayer.remotePlayer.currentTime;\n  }.bind(castPlayer);\n\n  playerTarget.getMediaDuration = function() {\n      return castPlayer.remotePlayer.duration;\n  }.bind(castPlayer);\n\n  playerTarget.updateDisplayMessage = function () {\n      document.getElementById('playerstate').style.display = 'block';\n      document.getElementById('playerstatebg').style.display = 'block';\n      document.getElementById('video_image_overlay').style.display = 'block';\n      document.getElementById('playerstate').innerHTML =\n          castPlayer.mediaContents[ castPlayer.currentMediaIndex]['title'] + ' ' +\n          castPlayer.playerState + ' on ' + castSession.getCastDevice().friendlyName;\n  }.bind(castPlayer);\n\n  playerTarget.setVolume = function (volumeSliderPosition) {\n      // Add resistance to avoid loud volume\n      var currentVolume = castPlayer.remotePlayer.volumeLevel;\n      var p = document.getElementById('audio_bg_level');\n      if (volumeSliderPosition < FULL_VOLUME_HEIGHT) {\n          var vScale =  castPlayer.currentVolume * FULL_VOLUME_HEIGHT;\n          if (volumeSliderPosition > vScale) {\n              volumeSliderPosition = vScale + (pos - vScale) / 2;\n          }\n          p.style.height = volumeSliderPosition + 'px';\n          p.style.marginTop = -volumeSliderPosition + 'px';\n          currentVolume = volumeSliderPosition / FULL_VOLUME_HEIGHT;\n      } else {\n          currentVolume = 1;\n      }\n      castPlayer.remotePlayer.volumeLevel = currentVolume;\n      castPlayer.remotePlayerController.setVolumeLevel();\n  }.bind(castPlayer);\n\n  playerTarget.mute = function () {\n      if (!castPlayer.remotePlayer.isMuted) {\n          castPlayer.remotePlayerController.muteOrUnmute();\n      }\n  }.bind(castPlayer);\n\n  playerTarget.unMute = function () {\n      if (castPlayer.remotePlayer.isMuted) {\n          castPlayer.remotePlayerController.muteOrUnmute();\n      }\n  }.bind(castPlayer);\n\n  playerTarget.isMuted = function() {\n      return castPlayer.remotePlayer.isMuted;\n  }.bind(castPlayer);\n\n  playerTarget.seekTo = function (time) {\n      castPlayer.remotePlayer.currentTime = time;\n      castPlayer.remotePlayerController.seek();\n  }.bind(castPlayer);\n\n  castPlayer.playerHandler.setTarget(playerTarget);\n\n  // Setup remote player volume right on setup\n  // The remote player may have had a volume set from previous playback\n  if (castPlayer.remotePlayer.isMuted) {\n      castPlayer.playerHandler.mute();\n  }\n  var currentVolume = castPlayer.remotePlayer.volumeLevel * FULL_VOLUME_HEIGHT;\n  var p = document.getElementById('audio_bg_level');\n  p.style.height = currentVolume + 'px';\n  p.style.marginTop = -currentVolume + 'px';\n\n  castPlayer.hideFullscreenButton();\n\n  castPlayer.playerHandler.play();\n};\n\n/**\n * Callback when media is loaded in local player\n */\nCastPlayer.prototype.onMediaLoadedLocally = function () {\n  var localPlayer = document.getElementById('video_element');\n  localPlayer.currentTime = castPlayer.currentMediaTime;\n\n  castPlayer.playerHandler.loaded();\n};\n\n/**\n * Select a media content\n * @param {number} mediaIndex A number for media index\n */\nCastPlayer.prototype.selectMedia = function (mediaIndex) {\n  console.log('Media index selected: ' + mediaIndex);\n\n  castPlayer.currentMediaIndex = mediaIndex;\n  // Clear currentMediaInfo when playing content from the sender.\n  castPlayer.playerHandler.currentMediaInfo = undefined;\n\n  // Set video image\n  var vi = document.getElementById('video_image');\n  vi.src = MEDIA_SOURCE_ROOT + castPlayer.mediaContents[mediaIndex]['thumb'];\n\n  // Reset progress bar\n  var pi = document.getElementById('progress_indicator');\n  pi.style.marginLeft = '0px';\n  var progress = document.getElementById('progress');\n  progress.style.width = '0px';\n\n  let seekable_window = document.getElementById('seekable_window');\n  let unseekable_overlay = document.getElementById('unseekable_overlay');\n  seekable_window.style.width = PROGRESS_BAR_WIDTH;\n  unseekable_overlay.style.width = '0px';\n\n  // Stop timer and reset time displays\n  castPlayer.stopProgressTimer();\n  castPlayer.currentMediaTime = 0;\n  castPlayer.playerHandler.setTimeString(document.getElementById('currentTime'), 0);\n  castPlayer.playerHandler.setTimeString(document.getElementById('duration'), 0);\n\n  castPlayer.playerState = PLAYER_STATE.IDLE;\n  castPlayer.playerHandler.play();\n};\n\n/**\n * Media seek function\n * @param {Event} event An event object from seek\n */\nCastPlayer.prototype.seekMedia = function (event) {\n  if (castPlayer.mediaDuration == null || (cast.framework.CastContext.getInstance().getCurrentSession() && !castPlayer.remotePlayer.canSeek)) {\n    console.log('Error - Not seekable');\n    return;\n  }\n\n  if (castPlayer.isLiveContent && !castPlayer.liveSeekableRange) {\n    console.log('Live content has no seekable range.')\n    return;\n  }\n\n  var position = parseInt(event.offsetX, 10);\n  var pi = document.getElementById('progress_indicator');\n  var progress = document.getElementById('progress');\n  let seekTime = 0;\n  let pp = 0;\n  let pw = 0;\n  if (event.currentTarget.id == 'progress_indicator') {\n    seekTime = parseInt(castPlayer.currentMediaTime + castPlayer.mediaDuration * position /\n      PROGRESS_BAR_WIDTH, 10);\n    pp = parseInt(pi.style.marginLeft, 10) + position;\n    pw = parseInt(progress.style.width, 10) + position;\n  } else {\n    seekTime = parseInt(position * castPlayer.mediaDuration / PROGRESS_BAR_WIDTH, 10);\n    pp = position;\n    pw = position;\n  }\n\n  if (castPlayer.playerState === PLAYER_STATE.PLAYING ||\n    castPlayer.playerState === PLAYER_STATE.PAUSED) {\n    castPlayer.currentMediaTime = seekTime;\n    progress.style.width = pw + 'px';\n    pi.style.marginLeft = pp + 'px';\n  }\n\n  if (castPlayer.isLiveContent) {\n    seekTime += castPlayer.mediaInfo.metadata.sectionStartTimeInMedia;\n  }\n\n  castPlayer.playerHandler.seekTo(seekTime);\n};\n\n/**\n * Set current player volume\n * @param {Event} mouseEvent\n */\nCastPlayer.prototype.setVolume = function (mouseEvent) {\n  var p = document.getElementById('audio_bg_level');\n  var pos = 0;\n  if (mouseEvent.currentTarget.id === 'audio_bg_track') {\n    pos = FULL_VOLUME_HEIGHT - parseInt(mouseEvent.offsetY, 10);\n  } else {\n    pos = parseInt(p.clientHeight, 10) - parseInt(mouseEvent.offsetY, 10);\n  }\n  castPlayer.playerHandler.setVolume(pos);\n};\n\n/**\n * Starts the timer to increment the media progress bar\n */\nCastPlayer.prototype.startProgressTimer = function () {\n  castPlayer.stopProgressTimer();\n\n  // Start progress timer\n  castPlayer.timer = setInterval(castPlayer.incrementMediaTimeHandler, TIMER_STEP);\n};\n\n/**\n * Stops the timer to increment the media progress bar\n */\nCastPlayer.prototype.stopProgressTimer = function () {\n  if (castPlayer.timer) {\n    clearInterval(castPlayer.timer);\n    castPlayer.timer = null;\n  }\n};\n\n/**\n * Increment media current time depending on remote or local playback\n */\nCastPlayer.prototype.incrementMediaTime = () => {\n    // First sync with the current player's time\n    castPlayer.currentMediaTime = castPlayer.playerHandler.getCurrentMediaTime();\n    castPlayer.currentMediaDuration = castPlayer.playerHandler.getMediaDuration();\n\n    if (castPlayer.playerState === PLAYER_STATE.PLAYING) {\n        if (castPlayer.currentMediaTime < castPlayer.currentMediaDuration) {\n          castPlayer.currentMediaTime += 1;\n          castPlayer.updateProgressBarByTimer();\n        } else {\n          castPlayer.endPlayback();\n        }\n    }\n};\n\n/**\n * Update progress bar and currentTime based on timer\n */\nCastPlayer.prototype.updateProgressBarByTimer = function () {\n  var p = document.getElementById('progress');\n  if (isNaN(parseInt(p.style.width, 10))) {\n      p.style.width = 0;\n  }\n  if (castPlayer.currentMediaDuration > 0) {\n      var pp = Math.floor(\n          PROGRESS_BAR_WIDTH * castPlayer.currentMediaTime / castPlayer.currentMediaDuration);\n  }\n\n  p.style.width = pp + 'px';\n  var pi = document.getElementById('progress_indicator');\n  pi.style.marginLeft = -21 - PROGRESS_BAR_WIDTH + pp + 'px';\n\n  if (pp >= PROGRESS_BAR_WIDTH) {\n    castPlayer.endPlayback();\n  }\n};\n\n/**\n *  End playback. Called when media ends.\n */\nCastPlayer.prototype.endPlayback = function () {\n  castPlayer.currentMediaTime = 0;\n  castPlayer.stopProgressTimer();\n  castPlayer.playerState = PLAYER_STATE.IDLE;\n  castPlayer.playerHandler.updateDisplay();\n\n  let play = document.getElementById('play');\n  if (play && play.style && play.display)\n    play.style.display = 'block';\n\n  let pause = document.getElementById('pause');\n  if (pause && pause.style && pause.style.display)\n    pause.style.display = 'none';\n};\n\n/**\n * @param {?number} timestamp Linux timestamp\n * @return {?string} media time string. Null if time is invalid.\n */\nCastPlayer.prototype.getMediaTimeString = function (timestamp) {\n  if (timestamp == undefined || timestamp == null) {\n    return null;\n  }\n\n  let isNegative = false;\n  if (timestamp < 0) {\n    isNegative = true;\n    timestamp *= -1;\n  }\n\n  let hours = Math.floor(timestamp / 3600);\n  let minutes = Math.floor((timestamp - (hours * 3600)) / 60);\n  let seconds = Math.floor(timestamp - (hours * 3600) - (minutes * 60));\n\n  if (hours < 10) hours = '0' + hours;\n  if (minutes < 10) minutes = '0' + minutes;\n  if (seconds < 10) seconds = '0' + seconds;\n\n  return (isNegative ? '-' : '') + hours + ':' + minutes + ':' + seconds;\n};\n\n/**\n * @param {number} timestamp Linux timestamp\n * @return {?string} ClockTime string. Null if time is invalid.\n */\nCastPlayer.prototype.getClockTimeString = function (timestamp) {\n  if (!timestamp) return \"0:00:00\";\n\n  let date = new Date(timestamp * 1000);\n  let hours = date.getHours();\n  let minutes = date.getMinutes();\n  let seconds = date.getSeconds();\n  let ampm = hours >= 12 ? 'PM' : 'AM';\n  hours = hours % 12;\n  // Hour '0' should be '12'\n  hours = hours ? hours : 12;\n  minutes = ('0' + minutes).slice(-2);\n  seconds = ('0' + seconds).slice(-2);\n  let clockTime = hours + ':' + minutes + ':' + seconds + ' ' + ampm;\n  return clockTime;\n};\n\n/**\n * Updates Ad markers in UI\n */\nCastPlayer.prototype.updateAdMarkers = function () {\n  let castSession = cast.framework.CastContext.getInstance().getCurrentSession();\n  if (!castSession) return;\n\n  let media = castSession.getMediaSession();\n  if (!media) return;\n\n  let mediaInfo = media.media;\n  if (!mediaInfo) return;\n\n  let breaks = mediaInfo.breaks;\n  let contentDuration = mediaInfo.duration;\n\n  if (!breaks) {\n    return;\n  }\n\n  for (var i = 0; i < breaks.length; i++) {\n    let adBreak = breaks[i];\n\n    // Server-side stitched Ads (embedded) are skipped when the position is beyond\n    // the duration, so they shouldn't be shown with an ad marker on the UI.\n    if (adBreak.position > contentDuration && adBreak.isEmbedded) {\n      continue;\n    }\n\n    // Place marker if not already set in position\n    if (!document.getElementById('ad' + adBreak.position)) {\n      var div = document.getElementById('progress')\n      div.innerHTML += '<div class=\"adMarker\" id=\"ad' + adBreak.position +\n        '\" style=\"margin-left: ' +\n        castPlayer.adPositionToMargin(adBreak.position, contentDuration) + 'px\"></div>';\n    }\n  }\n};\n\n/**\n * Remove Ad markers in UI\n */\nCastPlayer.prototype.removeAdMarkers = function () {\n  document.querySelectorAll('.adMarker').forEach(function (adMarker) {\n    adMarker.remove();\n  });\n};\n\n/**\n * Position of the ad marker from the margin\n */\nCastPlayer.prototype.adPositionToMargin = function (position, contentDuration) {\n  // Post-roll\n  if (position == -1) {\n    return PROGRESS_BAR_WIDTH;\n  }\n\n  // Client stitched Ads (not embedded) beyond the duration, will play at the\n  // end of the content.\n  if (position > contentDuration) {\n    return PROGRESS_BAR_WIDTH;\n  }\n\n  // Convert Ad position to margin\n  return (PROGRESS_BAR_WIDTH * position) / contentDuration;\n};\n\n/**\n * Handle BREAK_CLIP_ID_CHANGED event\n */\nCastPlayer.prototype.onBreakClipIdChanged = function () {\n  // Hide skip button when switching to a new breakClip\n  let skip = document.getElementById('skip');\n  if (skip && skip.style && skip.style.display)\n    skip.style.display = 'none';\n};\n\n/**\n * Disable progress bar if playing a break.\n */\nCastPlayer.prototype.isPlayingBreak = function (isPlayingBreak) {\n  castPlayer.enableProgressBar(!isPlayingBreak);\n};\n\n/**\n * Handle WHEN_SKIPPABLE_CHANGED event\n */\nCastPlayer.prototype.onWhenSkippableChanged = function (whenSkippable) {\n  castPlayer.whenSkippable = whenSkippable;\n};\n\n/**\n * Handle CURRENT_BREAK_CLIP_TIME_CHANGED event\n */\nCastPlayer.prototype.onCurrentBreakClipTimeChanged = function (currentBreakClipTime) {\n  let skip = document.getElementById('skip');\n\n  // Unskippable\n  if (castPlayer.whenSkippable == undefined || castPlayer.whenSkippable < 0) {\n    // Hide skip button    \n    if (skip && skip.style && skip.style.display)\n      skip.style.display = 'none';\n  }\n  // Skippable\n  else if (castPlayer.whenSkippable !== undefined || currentBreakClipTime >= castPlayer.whenSkippable) {\n    // Show skip button    \n    if (skip && skip.style && skip.style.display)\n      skip.style.display = 'block';\n  }\n  // Not ready to be skipped\n  else {\n    // Hide skip button\n    if (skip && skip.style && skip.style.display)\n      skip.style.display = 'none';\n  }\n};\n\n/**\n * Skip the current Ad\n */\nCastPlayer.prototype.skipAd = function () {\n  castPlayer.remotePlayerController.skipAd();\n}\n\n/**\n * Enable/disable progress bar\n */\nCastPlayer.prototype.enableProgressBar = function (enable) {\n  let progress = document.getElementById('progress');\n  let progress_indicator = document.getElementById('progress_indicator');\n  let seekable_window = document.getElementById('seekable_window');\n\n  if (enable) {\n    // Enable UI\n    progress.style.backgroundImage = \"url('./assets/imagefiles/timeline_bg_progress.png')\";\n    progress.style.cursor = \"pointer\";\n    seekable_window.style.cursor = \"pointer\";\n    progress_indicator.style.cursor = \"pointer\";\n    progress_indicator.draggable = true;\n\n    // Add listeners\n    progress.addEventListener('click', castPlayer.seekMediaListener);\n    seekable_window.addEventListener('click', castPlayer.seekMediaListener);\n    progress_indicator.addEventListener('dragend', castPlayer.seekMediaListener);\n  } else {\n    // Disable UI\n    progress.style.backgroundImage = \"url('./assets/imagefiles/timeline_bg_buffer.png')\";\n    progress.style.cursor = \"default\";\n    seekable_window.style.cursor = \"default\";\n    progress_indicator.style.cursor = \"default\";\n    progress_indicator.draggable = false;\n\n    // Remove listeners\n    progress.removeEventListener('click', castPlayer.seekMediaListener);\n    seekable_window.removeEventListener('click', castPlayer.seekMediaListener);\n    progress_indicator.removeEventListener('dragend', castPlayer.seekMediaListener);\n  }\n}\n\n/**\n * Updates media duration text in UI\n */\nCastPlayer.prototype.updateMediaDuration = function() {\n  document.getElementById('duration').innerHTML =\n      CastPlayer.getDurationString(castPlayer.currentMediaDuration);\n};\n\n/**\n * @param {number} durationInSec\n * @return {string}\n */\nCastPlayer.getDurationString = function(durationInSec) {\n  var durationString = '' + Math.floor(durationInSec % 60);\n  var durationInMin = Math.floor(durationInSec / 60);\n  if (durationInMin === 0) {\n      return durationString;\n  }\n  durationString = (durationInMin % 60) + ':' + durationString;\n  var durationInHour = Math.floor(durationInMin / 60);\n  if (durationInHour === 0) {\n      return durationString;\n  }\n  return durationInHour + ':' + durationString;\n};\n\n/**\n * Request full screen mode\n */\nCastPlayer.prototype.requestFullScreen = function () {\n  // Supports most browsers and their versions\n  var element = document.getElementById('video_element');\n  var requestMethod =\n    element['requestFullScreen'] || element['webkitRequestFullScreen'];\n\n  if (requestMethod) {\n    // Native full screen.\n    requestMethod.call(element);\n    console.log('Requested fullscreen');\n  }\n};\n\n/**\n * Exit full screen mode\n */\nCastPlayer.prototype.cancelFullScreen = function () {\n  // Supports most browsers and their versions.\n  var requestMethod =\n    document['cancelFullScreen'] || document['webkitCancelFullScreen'];\n\n  if (requestMethod) {\n    requestMethod.call(document);\n  }\n};\n\n/**\n * Exit fullscreen mode by escape\n */\nCastPlayer.prototype.fullscreenChangeHandler = function () {\n  castPlayer.fullscreen = !castPlayer.fullscreen;\n};\n\n/**\n * Show expand/collapse fullscreen button\n */\nCastPlayer.prototype.showFullscreenButton = function () {\n  let fullscreen_expand = document.getElementById('fullscreen_expand');\n  let fullscreen_collapse = document.getElementById('fullscreen_collapse');\n\n  if (castPlayer.fullscreen) {\n    if (fullscreen_expand && fullscreen_expand.style && fullscreen_expand.style.display)\n      fullscreen_expand.style.display = 'none';\n\n    if (fullscreen_collapse && fullscreen_collapse.style && fullscreen_collapse.style.display)\n      fullscreen_collapse.style.display = 'block';\n  } else {\n    if (fullscreen_expand && fullscreen_expand.style && fullscreen_expand.style.display)\n      fullscreen_expand.style.display = 'block';\n\n    if (fullscreen_collapse && fullscreen_collapse.style && fullscreen_collapse.style.display)\n      fullscreen_collapse.style.display = 'none';\n  }\n};\n\n/**\n * Hide expand/collapse fullscreen button\n */\nCastPlayer.prototype.hideFullscreenButton = function () {\n  let fullscreen_expand = document.getElementById('fullscreen_expand');\n  let fullscreen_collapse = document.getElementById('fullscreen_collapse');\n\n  if (fullscreen_expand && fullscreen_expand.style && fullscreen_expand.style.display)\n    fullscreen_expand.style.display = 'none';\n\n  if (fullscreen_collapse && fullscreen_collapse.style && fullscreen_collapse.style.display)\n    fullscreen_collapse.style.display = 'none';\n};\n\n/**\n * Show the media control\n */\nCastPlayer.prototype.showMediaControl = function () {\n  let media_control = document.getElementById('media_control');\n  if (media_control && media_control.style && media_control.style.opacity)\n    media_control.style.opacity = 0.7;\n};\n\n/**\n * Hide the media control\n */\nCastPlayer.prototype.hideMediaControl = function () {\n  if (typeof cast !== 'undefined') {\n    let context = cast.framework.CastContext.getInstance();\n    if (context && context.getCurrentSession()) {\n      // Do not hide controls during an active cast session.\n      document.getElementById('media_control').style.opacity = 0.7;\n    } else {\n      document.getElementById('media_control').style.opacity = 0;\n    }\n  }\n};\n\n/**\n * Show the volume slider\n */\nCastPlayer.prototype.showVolumeSlider = function () {\n  if (!castPlayer.playerHandler.isMuted()) {\n    document.getElementById('audio_bg').style.opacity = 1;\n    document.getElementById('audio_bg_track').style.opacity = 1;\n    document.getElementById('audio_bg_level').style.opacity = 1;\n    document.getElementById('audio_indicator').style.opacity = 1;\n  }\n};\n\n/**\n * Hide the volume slider\n */\nCastPlayer.prototype.hideVolumeSlider = function () {\n  document.getElementById('audio_bg').style.opacity = 0;\n  document.getElementById('audio_bg_track').style.opacity = 0;\n  document.getElementById('audio_bg_level').style.opacity = 0;\n  document.getElementById('audio_indicator').style.opacity = 0;\n};\n\n/**\n * Reset the volume slider\n */\nCastPlayer.prototype.resetVolumeSlider = function () {\n  var volumeTrackHeight = document.getElementById('audio_bg_track').clientHeight;\n  var defaultVolumeSliderHeight = DEFAULT_VOLUME * volumeTrackHeight;\n  document.getElementById('audio_bg_level').style.height =\n    defaultVolumeSliderHeight + 'px';\n  document.getElementById('audio_on').style.display = 'block';\n  document.getElementById('audio_off').style.display = 'none';\n};\n\n/**\n * Initialize UI components and add event listeners\n */\nCastPlayer.prototype.initializeUI = () => {\n  // Set initial values for title, subtitle, and description\n  document.getElementById('media_title').innerHTML =\n    castPlayer.mediaContents[0]['title'];\n  document.getElementById('media_subtitle').innerHTML =\n    castPlayer.mediaContents[castPlayer.currentMediaIndex]['subtitle'];\n  document.getElementById('media_desc').innerHTML =\n    castPlayer.mediaContents[castPlayer.currentMediaIndex]['description'];\n\n  // Add event handlers to UI components\n  document.getElementById('progress_bg').addEventListener(\n    'click', castPlayer.seekMedia.bind(castPlayer));\n  document.getElementById('progress').addEventListener(\n    'click', castPlayer.seekMedia.bind(castPlayer));\n  document.getElementById('progress_indicator').addEventListener(\n    'dragend', castPlayer.seekMedia.bind(castPlayer));\n  document.getElementById('audio_on').addEventListener(\n    'click', castPlayer.playerHandler.mute.bind(castPlayer.playerHandler));\n  document.getElementById('audio_off').addEventListener(\n    'click', castPlayer.playerHandler.unMute.bind(castPlayer.playerHandler));\n  document.getElementById('audio_bg').addEventListener(\n    'mouseover', castPlayer.showVolumeSlider.bind(castPlayer));\n  document.getElementById('audio_on').addEventListener(\n    'mouseover', castPlayer.showVolumeSlider.bind(castPlayer));\n  document.getElementById('audio_bg_level').addEventListener(\n    'mouseover', castPlayer.showVolumeSlider.bind(castPlayer));\n  document.getElementById('audio_bg_track').addEventListener(\n    'mouseover', castPlayer.showVolumeSlider.bind(castPlayer));\n  document.getElementById('audio_bg_level').addEventListener(\n    'click', castPlayer.setVolume.bind(castPlayer));\n  document.getElementById('audio_bg_track').addEventListener(\n    'click', castPlayer.setVolume.bind(castPlayer));\n  document.getElementById('audio_bg').addEventListener(\n    'mouseout', castPlayer.hideVolumeSlider.bind(castPlayer));\n  document.getElementById('audio_on').addEventListener(\n    'mouseout', castPlayer.hideVolumeSlider.bind(castPlayer));\n  document.getElementById('main_video').addEventListener(\n    'mouseover', castPlayer.showMediaControl.bind(castPlayer));\n  document.getElementById('main_video').addEventListener(\n    'mouseout', castPlayer.hideMediaControl.bind(castPlayer));\n  document.getElementById('media_control').addEventListener(\n    'mouseover', castPlayer.showMediaControl.bind(castPlayer));\n  document.getElementById('media_control').addEventListener(\n    'mouseout', castPlayer.hideMediaControl.bind(castPlayer));\n  document.getElementById('fullscreen_expand').addEventListener(\n    'click', castPlayer.requestFullScreen.bind(castPlayer));\n  document.getElementById('fullscreen_collapse').addEventListener(\n    'click', castPlayer.cancelFullScreen.bind(castPlayer));\n  document.addEventListener(\n    'fullscreenchange', castPlayer.fullscreenChangeHandler.bind(castPlayer), false);\n  document.addEventListener(\n    'webkitfullscreenchange', castPlayer.fullscreenChangeHandler.bind(castPlayer), false);\n\n  // Enable play/pause buttons\n  document.getElementById('play').addEventListener(\n    'click', castPlayer.playerHandler.play.bind(castPlayer.playerHandler));\n  document.getElementById('pause').addEventListener(\n    'click', castPlayer.playerHandler.pause.bind(castPlayer.playerHandler));\n  document.getElementById('progress_indicator').draggable = true;\n};\n\n/**\n * Add video thumbnails div's to UI for media JSON contents\n */\nCastPlayer.prototype.addVideoThumbs = function () {\n  if (typeof castPlayer.mediaJSON !== 'undefined' && castPlayer.mediaJSON['categories'] && castPlayer.mediaJSON['categories'].length > 0) {\n    castPlayer.mediaContents = castPlayer.mediaJSON['categories'][0]['videos'];\n    var ni = document.getElementById('carousel');\n    var newdiv = null;\n    var divIdName = null;\n    for (var i = 0; i < castPlayer.mediaContents.length; i++) {\n      newdiv = document.createElement('div');\n      divIdName = 'thumb' + i + 'Div';\n      newdiv.setAttribute('id', divIdName);\n      newdiv.setAttribute('class', 'thumb');\n      newdiv.innerHTML =\n        '<img src=\"' + MEDIA_SOURCE_ROOT + castPlayer.mediaContents[i]['thumb'] +\n        '\" class=\"thumbnail\">';\n      newdiv.addEventListener('click', castPlayer.selectMedia.bind(castPlayer, i));\n      ni.appendChild(newdiv);\n    }\n  }\n};\n\nCastPlayer.prototype.addMediaContents = () => {\n  if (typeof castPlayer.mediaJSON !== 'undefined' && castPlayer.mediaJSON['categories'] && castPlayer.mediaJSON['categories'].length > 0) {\n    castPlayer.mediaContents = castPlayer.mediaJSON['categories'][0]['videos'];\n    return castPlayer.mediaContents;\n  } else {\n    return null;\n  }\n};\n\n/**\n * Makes human-readable message from chrome.cast.Error\n * @param {chrome.cast.Error} error\n * @return {string} error message\n */\nCastPlayer.getErrorMessage = function (error) {\n  switch (error.code) {\n    case chrome.cast.ErrorCode.API_NOT_INITIALIZED:\n      return 'The API is not initialized.' +\n        (error.description ? ' :' + error.description : '');\n    case chrome.cast.ErrorCode.CANCEL:\n      return 'The operation was canceled by the user' +\n        (error.description ? ' :' + error.description : '');\n    case chrome.cast.ErrorCode.CHANNEL_ERROR:\n      return 'A channel to the receiver is not available.' +\n        (error.description ? ' :' + error.description : '');\n    case chrome.cast.ErrorCode.EXTENSION_MISSING:\n      return 'The Cast extension is not available.' +\n        (error.description ? ' :' + error.description : '');\n    case chrome.cast.ErrorCode.INVALID_PARAMETER:\n      return 'The parameters to the operation were not valid.' +\n        (error.description ? ' :' + error.description : '');\n    case chrome.cast.ErrorCode.RECEIVER_UNAVAILABLE:\n      return 'No receiver was compatible with the session request.' +\n        (error.description ? ' :' + error.description : '');\n    case chrome.cast.ErrorCode.SESSION_ERROR:\n      return 'A session could not be created, or a session was invalid.' +\n        (error.description ? ' :' + error.description : '');\n    case chrome.cast.ErrorCode.TIMEOUT:\n      return 'The operation timed out.' +\n        (error.description ? ' :' + error.description : '');\n    default:\n      return error;\n  }\n};\n\nvar castPlayer = new CastPlayer();\nwindow['__onGCastApiAvailable'] = function (isAvailable) {\n  if (isAvailable) {\n    castPlayer.initializeCastPlayer();\n  }\n};\n\nwindow.CastPlayer = castPlayer;\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './index';\n\nexport {NgCastComponent as Éµa} from './ng-cast.component';"],"names":["Subject","Injectable","VgAPI","Component","ViewChild","VgDASH","Input","NgModule","CUSTOM_ELEMENTS_SCHEMA","CommonModule","VgCoreModule","VgControlsModule","VgStreamingModule","VgBufferingModule","VgOverlayPlayModule"],"mappings":";;;;;;;QAkBE;YAAA,iBAIC;YAVO,WAAM,GAAQ,MAAM,CAAC;YAEtB,WAAM,GAAG;gBACd,OAAO,EAAE,KAAK;aACf,CAAC;YAkBF,kBAAa,GAAG;gBACd,OAAO,CAAC,GAAG,CAAC,8BAA8B,CAAC,CAAC;aAC7C,CAAC;YAEF,YAAO,GAAG,UAAU,GAAQ;gBAC1B,OAAO,CAAC,GAAG,CAAC,6BAA6B,EAAE,GAAG,CAAC,CAAC;aACjD,CAAC;YAEF,oBAAe,GAAG;gBAChB,IAAI,IAAI,GAAQ,KAAI,CAAC;gBACrB,IAAI,IAAI,GAAG,IAAIA,YAAO,EAAE,CAAC;gBACzB,KAAI,CAAC,IAAI,CAAC,cAAc,CAAC,UAAC,CAAM;oBAC9B,IAAI,CAAC,OAAO,GAAG,CAAC,CAAC;oBACjB,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC;oBACtB,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;iBACxB,EAAE,UAAU,GAAQ;oBACnB,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC;oBACvB,IAAI,GAAG,CAAC,IAAI,KAAK,QAAQ,EAAE;wBACzB,IAAI,CAAC,OAAO,GAAG,SAAS,CAAC;wBACzB,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;qBACrB;yBAAM;wBACL,OAAO,CAAC,KAAK,CAAC,+BAA+B,EAAE,GAAG,CAAC,CAAC;qBACrD;iBACF,CAAC,CAAC;gBACH,OAAO,IAAI,CAAC;aACb,CAAC;YAEF,sBAAiB,GAAG,UAAC,UAAiB;gBACpC,IAAI,MAAM,GAAG,MAAM,CAAC,UAAU,CAAC,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAC;gBACxD,MAAM,CAAC,YAAY,CAAC,MAAM,EAAE,iBAAiB,CAAC,CAAC;gBAC/C,MAAM,CAAC,YAAY,CAAC,KAAK,EAAE,4EAA4E,CAAC,CAAC;gBACzG,MAAM,CAAC,UAAU,CAAC,CAAC,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC;gBAE5C,UAAU,CAAC,UAAU,CAAC,SAAS,CAAC,UAAU,GAAG,UAAU,CAAC;gBAExD,OAAO,UAAU,CAAC,UAAU,CAAC,gBAAgB,EAAE,CAAC;aACjD,CAAC;YAUF,SAAI,GAAG;gBACL,KAAI,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;aAC9B,CAAC;YAEF,UAAK,GAAG;gBACN,KAAI,CAAC,YAAY,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;aAC/B,CAAC;YAEF,SAAI,GAAG;gBACL,KAAI,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;aAC9B,CAAC;YAEF,iBAAY,GAAG,UAAC,GAAQ;gBACtB,OAAO,CAAC,KAAK,CAAC,uBAAuB,EAAE,GAAG,CAAC,CAAC;aAC7C,CAAC;YA3EA,UAAU,CAAC,UAAU,CAAC,SAAS,GAAG;gBAChC,UAAU,EAAE,EAAE;aACf,CAAC;SACH;QAED,yCAAiB,GAAjB;YAAA,iBAQC;YAPC,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC;YACvC,IAAI,cAAc,GAAG,IAAI,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,UAAU,CAAC,CAAC;YAC9D,IAAI,SAAS,GAAG,IAAI,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,cAAc,EACpD,eAAS,EACT,UAAC,MAAW,IAAO,IAAI,MAAM,KAAK,KAAI,CAAC,IAAI,CAAC,oBAAoB,CAAC,SAAS,EAAE,GAAG,EAAE,CAClF,CAAC;YACF,IAAI,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,EAAE,IAAI,CAAC,aAAa,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC;SAC3E;QAAA,CAAC;QAwCF,kCAAU,GAAV,UAAW,aAAkB;YAC3B,IAAI,aAAa,EAAE;gBACjB,UAAU,CAAC,UAAU,CAAC,YAAY,EAAE,CAAC;gBACrC,UAAU,CAAC,UAAU,CAAC,gBAAgB,EAAE,CAAC;gBACzC,UAAU,CAAC,UAAU,CAAC,oBAAoB,EAAE,CAAC;aAC9C;SACF;QAkBD,kCAAU,GAAV,UAAW,KAAU;YACnB,IAAI,CAAC,MAAM,CAAC,OAAO,GAAG,KAAK,CAAC;YAC5B,UAAU,CAAC,UAAU,CAAC,iBAAiB,EAAE,CAAC;SAC3C;QAED,iCAAS,GAAT;YACE,OAAO,IAAI,CAAC,MAAM,CAAA;SACnB;;;;gBA/FFC,eAAU;;;;ICMX;QAWI,qBAAY,IAAmB;YAC3B,IAAI,IAAI,EAAE;gBACN,KAAK,IAAI,QAAQ,IAAI,IAAI,EAAE;oBACvB,IAAI,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC,EAAE;wBACzB,IAAK,CAAC,QAAQ,CAAC,GAAS,IAAK,CAAC,QAAQ,CAAC,CAAC;qBACjD;iBACJ;aACJ;SACJ;QAEM,kBAAM,GAAb,UAAc,IAAS;YACnB,IAAI,GAAG,OAAO,IAAI,KAAK,QAAQ,GAAG,IAAI,GAAG,EAAE,CAAC;YAC5C,IAAI,MAAM,GAAG,IAAI,WAAW,EAAE,CAAC;YAC/B,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;YAClB,OAAO,MAAM,CAAC;SACjB;QAED,0BAAI,GAAJ,UAAK,IAAU;YACX,IAAI,IAAI,EAAE;gBACN,IAAI,CAAC,EAAE,GAAG,IAAI,CAAC,IAAI,CAAC,CAAC;gBACrB,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC;gBAC7B,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,MAAM,CAAC,CAAC;gBACzB,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,aAAa,CAAC,CAAC;gBACvC,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC;gBACvB,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,UAAU,CAAC,CAAC;gBACjC,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,aAAa,CAAC,CAAC;gBACvC,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,SAAS,CAAC,CAAC;gBAC/B,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,UAAU,CAAC,CAAC;aACpC;SACJ;QAED,4BAAM,GAAN,UAAO,IAAU;YACb,IAAI,GAAG,OAAO,IAAI,KAAK,QAAQ,GAAG,IAAI,GAAG,EAAE,CAAC;YAC5C,IAAI,CAAC,IAAI,CAAC,GAAG,IAAI,CAAC,EAAE,CAAC;YACrB,IAAI,CAAC,QAAQ,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC;YAC7B,IAAI,CAAC,MAAM,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC;YACzB,IAAI,CAAC,aAAa,CAAC,GAAG,IAAI,CAAC,WAAW,CAAC;YACvC,IAAI,CAAC,KAAK,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC;YACvB,IAAI,CAAC,UAAU,CAAC,GAAG,IAAI,CAAC,QAAQ,CAAC;YACjC,IAAI,CAAC,aAAa,CAAC,GAAG,IAAI,CAAC,WAAW,CAAC;YACvC,IAAI,CAAC,SAAS,CAAC,GAAG,IAAI,CAAC,OAAO,CAAC;YAC/B,IAAI,CAAC,UAAU,CAAC,GAAG,IAAI,CAAC,QAAQ,CAAC;YACjC,OAAO,IAAI,CAAC;SACf;0BACJ;KAAA;;;QCFC,yBACU,aAA4B;YAA5B,kBAAa,GAAb,aAAa,CAAe;YApC7B,eAAU,GAAG,EAAE,CAAC;YAChB,iBAAY,GAAG,KAAK,CAAC;YACrB,YAAO,GAAG,KAAK,CAAC;YAChB,oBAAe,GAAG,EAAE,CAAC;YAErB,kBAAa,GAAiB;gBACrC,IAAI,EAAE,MAAM;gBACZ,KAAK,EAAE,yBAAyB;gBAChC,MAAM,EAAE,2DAA2D;aACpE,CAAC;YAEF,QAAG,GAAU,IAAIC,YAAK,EAAE,CAAC;YAEhB,YAAO,GAAG,KAAK,CAAC;YAEhB,WAAM,GAAG,KAAK,CAAC;YAEf,YAAO,GAAmB;gBACjC;oBACE,IAAI,EAAE,MAAM;oBACZ,KAAK,EAAE,yBAAyB;oBAChC,MAAM,EAAE,2DAA2D;iBACpE;aACF,CAAC;YAEO,aAAQ,GAAuB,EAAE,CAAC;YAElC,SAAI,GAAG,KAAK,CAAC;YACb,aAAQ,GAAG,KAAK,CAAC;YACjB,WAAM,GAAG,IAAI,CAAC;YAEd,iBAAY,GAAG,CAAC,CAAC;YACjB,UAAK,GAAgB,IAAI,WAAW,EAAE,CAAC;YACvC,eAAU,GAAW,EAAE,CAAC;SAI5B;QAEL,kCAAQ,GAAR;YACE,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;YACrB,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;YAErC,IAAI,aAAa,GAAG,IAAI,CAAC,aAAa,CAAC;YACvC,IAAI,CAAC,MAAM,CAAC,uBAAuB,CAAC,GAAG,UAAU,WAAoB;gBACnE,IAAI,WAAW,EAAE;oBACf,aAAa,CAAC,iBAAiB,EAAE,CAAC;iBACnC;aACF,CAAC;YAEF,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,aAAa,CAAC,SAAS,EAAE,CAAC;SACrD;QAED,uCAAa,GAAb,UAAc,GAAU;YACtB,IAAI,CAAC,GAAG,GAAG,GAAG,CAAC;YAEf,IAAI,CAAC,GAAG,CAAC,eAAe,EAAE,CAAC,aAAa,CAAC,KAAK,CAAC,SAAS,CAAC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;SACrF;QAED,oCAAU,GAAV,UAAW,MAAqB;YAC9B,QAAQ,IAAI,CAAC,aAAa,CAAC,IAAI;gBAC7B,KAAK,MAAM;oBACT,IAAI,CAAC,MAAM,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC;oBAC/B,MAAM;aACT;SACF;QAED,mCAAS,GAAT;YACE,IAAI,CAAC,YAAY,EAAE,CAAC;YAEpB,IAAI,IAAI,CAAC,YAAY,KAAK,IAAI,CAAC,QAAQ,CAAC,MAAM,EAAE;gBAC9C,IAAI,CAAC,YAAY,GAAG,CAAC,CAAC;aACvB;YAED,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;SAC/C;QAED,mCAAS,GAAT;YAAA,iBASC;YARC,IAAI,IAAI,CAAC,KAAK,IAAI,IAAI,CAAC,KAAK,CAAC,aAAa,EAAE;gBAC1C,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,aAAa,CAAC,MAAM,CAAC;gBAC9C,OAAO,IAAI,CAAC,KAAK,CAAC,aAAa,CAAC,MAAM,CAAC;aACxC;iBAAM;gBACL,UAAU,CAAC;oBACT,OAAO,KAAI,CAAC,SAAS,EAAE,CAAC;iBACzB,EAAE,IAAI,CAAC,CAAC;aACV;SACF;QAED,+BAAK,GAAL;YACE,IAAI,CAAC,KAAK,CAAC,aAAa,CAAC,KAAK,EAAE,CAAC;YACjC,IAAI,CAAC,SAAS,EAAE,CAAC;SAClB;QAED,qCAAW,GAAX;YACE,IAAI,CAAC,aAAa,CAAC,eAAe,EAAE,CAAC;SACtC;QAED,sCAAY,GAAZ;YACE,IAAI,CAAC,aAAa,CAAC,eAAe,EAAE,CAAC;SACtC;QAED,kCAAQ,GAAR;YAAA,iBAQC;YAPC,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC;YACzB,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;YACrB,OAAO,CAAC,GAAG,CAAC,YAAY,CAAC,CAAC;YAE1B,UAAU,CAAC;gBACT,KAAI,CAAC,SAAS,EAAE,CAAC;aAClB,EAAE,GAAG,CAAC,CAAC;SACT;QAED,mCAAS,GAAT;YACE,IAAI,IAAI,CAAC,QAAQ,IAAI,IAAI,CAAC,QAAQ,CAAC,MAAM,GAAG,CAAC,EAAE;gBAC7C,IAAI,CAAC,YAAY,GAAG,KAAK,CAAC;gBAC1B,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;gBAE9C,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;aAC9B;iBAAM;gBACL,IAAI,CAAC,KAAK,GAAG,IAAI,WAAW,EAAE,CAAC;gBAC/B,IAAI,CAAC,QAAQ,EAAE,CAAC;aACjB;SACF;QAED,qCAAW,GAAX,UAAY,MAAmB;YAA/B,iBA0BC;YAzBC,UAAU,CAAC;gBACT,IAAI,GAAG,GAAQ,QAAQ,CAAC,cAAc,CAAC,eAAe,CAAC,CAAC;gBACxD,GAAG,CAAC,IAAI,EAAE,CAAC;gBAEX,IAAM,GAAG,GAAG,IAAI,IAAI,EAAE,CAAC;gBACvB,IAAM,WAAW,GAAG,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,OAAO,EAAE,GAAG,IAAI,IAAI,CAAC,KAAI,CAAC,KAAK,CAAC,WAAW,CAAC,CAAC,OAAO,EAAE,CAAC,CAAC;gBAEzF,OAAO,CAAC,GAAG,CAAC,mBAAmB,GAAG,MAAM,CAAC,GAAG,CAAC,CAAC;gBAC9C,OAAO,CAAC,GAAG,CAAC,aAAa,GAAG,WAAW,CAAC,CAAC;gBAEzC,KAAI,CAAC,KAAK,CAAC,GAAG,GAAG,MAAM,CAAC,GAAG,CAAC;gBAC5B,GAAG,CAAC,aAAa,CAAC,GAAG,WAAW,GAAG,IAAI,CAAC;gBAExC,IAAI,OAAO,GAAG,GAAG,CAAC,IAAI,EAAE,CAAC;gBACzB,IAAI,OAAO,KAAK,SAAS,EAAE;oBACzB,OAAO,CAAC,IAAI,CAAC,UAAC,CAAM;;wBAElB,OAAO,CAAC,GAAG,CAAC,kBAAkB,CAAC,CAAC;qBACjC,CAAC,CAAC,KAAK,CAAC;;;wBAGP,KAAI,CAAC,IAAI,GAAG,IAAI,CAAC;qBAClB,CAAC,CAAC;iBACJ;aACF,EAAE,IAAI,CAAC,CAAC;SACV;QAED,kCAAQ,GAAR;YACE,OAAO,IAAI,CAAC,KAAK,IAAI,IAAI,CAAC,KAAK,CAAC,aAAa,IAAI,IAAI,CAAC,KAAK,CAAC,aAAa,CAAC,KAAK,IAAI,KAAK,CAAC;SAC1F;QAED,sCAAY,GAAZ;YACE,OAAO,IAAI,CAAC,GAAG,IAAI,IAAI,CAAC,GAAG,CAAC,KAAK,IAAI,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,YAAY,IAAI,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,YAAY,IAAI,KAAK,CAAC;SAC1G;QAED,qCAAW,GAAX;YACE,IAAI,CAAC,KAAK,CAAC,aAAa,CAAC,KAAK,GAAG,CAAC,IAAI,CAAC,KAAK,CAAC,aAAa,CAAC,KAAK,CAAC;SAClE;QAED,wCAAc,GAAd;YACE,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,gBAAgB,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;SAC7C;QAED,2CAAiB,GAAjB;YACE,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;YACtB,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;SACpB;QAED,2CAAiB,GAAjB;YACE,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;YACrB,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;SACrB;;;;gBA7LFC,cAAS,SAAC;oBACT,QAAQ,EAAE,SAAS;oBACnB,4wHAAuC;;iBAIxC;;;gBAtBQ,aAAa;;;yBAwBnBC,cAAS,SAACC,aAAM,EAAE,EAAE,MAAM,EAAE,KAAK,EAAE;wBACnCD,cAAS,SAAC,OAAO,EAAE,EAAE,MAAM,EAAE,KAAK,EAAE;6BAKpCE,UAAK;+BACLA,UAAK;0BACLA,UAAK;kCACLA,UAAK;gCAELA,UAAK;0BAQLA,UAAK;yBAELA,UAAK;0BAELA,UAAK;2BAQLA,UAAK;uBAELA,UAAK;2BACLA,UAAK;yBACLA,UAAK;+BAELA,UAAK;wBACLA,UAAK;6BACLA,UAAK;;;;QCxCR;;;;;gBAdCC,aAAQ,SAAC;oBACR,OAAO,EAAE,CAAEC,2BAAsB,CAAE;oBACnC,OAAO,EAAE;wBACPC,mBAAY;wBACZC,mBAAY;wBACZC,yBAAgB;wBAChBC,2BAAiB;wBACjBC,2BAAiB;wBACjBC,+BAAmB;qBACpB;oBACD,OAAO,EAAE,CAAC,eAAe,CAAC;oBAC1B,SAAS,EAAE,CAAC,aAAa,CAAC;oBAC1B,YAAY,EAAE,CAAC,eAAe,CAAC;iBAChC;;;ICxBD,YAAY,CAAC;IAEb;IACA,IAAM,iBAAiB,GAAG,EAAE,CAAC;IAE7B;;;;IAIA,IAAI,kBAAkB,GAAG,GAAG,CAAC;IAE7B;IACA,IAAI,UAAU,GAAG,IAAI,CAAC;IAEtB;IACA,IAAI,cAAc,GAAG,GAAG,CAAC;IAEzB;IACA,IAAI,kBAAkB,GAAG,GAAG,CAAC;IAE7B;IACA,IAAM,YAAY,GAAG;;;QAGnB,IAAI,EAAE,MAAM;QACZ,OAAO,EAAE,SAAS;;;QAGlB,SAAS,EAAE,WAAW;;QAEtB,MAAM,EAAE,QAAQ;;QAEhB,OAAO,EAAE,SAAS;;QAElB,MAAM,EAAE,QAAQ;QAChB,OAAO,EAAE,SAAS;QAClB,KAAK,EAAE,OAAO;KACf,CAAC;IAEF;;;;;;;;;;IAUA,IAAI,UAAU,GAAG;;QAEf,IAAI,CAAC,aAAa,GAAG,IAAI,aAAa,CAAC,IAAI,CAAC,CAAC;;QAG7C,IAAI,CAAC,WAAW,GAAG,YAAY,CAAC,IAAI,CAAC;;;;;QAMrC,IAAI,CAAC,uBAAuB,GAAG,IAAI,CAAC;;;QAIpC,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC;;QAEzB,IAAI,CAAC,sBAAsB,GAAG,IAAI,CAAC;;;QAInC,IAAI,CAAC,gBAAgB,GAAG,CAAC,CAAC;;;;;QAK1B,IAAI,CAAC,aAAa,GAAG,CAAC,CAAC,CAAC;;QAGxB,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC;;QAElB,IAAI,CAAC,yBAAyB,GAAG,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;;QAEpE,IAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;;;QAInD,IAAI,CAAC,iBAAiB,GAAG,CAAC,CAAC;;QAE3B,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC;;QAE1B,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC;;;QAIxB,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;;;;;;;QAOtB,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC;;;QAI1B,IAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC;;QAE9B,IAAI,CAAC,aAAa,GAAG,KAAK,CAAC;QAE3B,IAAI,CAAC,SAAS,GAAG;YACf,YAAY,EAAE,EAAE;SACjB,CAAC;IACJ,CAAC,CAAC;IAEF,UAAU,CAAC,SAAS,CAAC,oBAAoB,GAAG;QAC1C,IAAI,OAAO,GAAG,EAAE,CAAC;;;;QAKjB,OAAO,CAAC,qBAAqB,GAAG,UAAU,CAAC;;;;;QAM3C,OAAO,CAAC,cAAc,GAAG,MAAM,CAAC,IAAI,CAAC,cAAc,CAAC,aAAa,CAAC;QAElE,IAAI,CAAC,SAAS,CAAC,WAAW,CAAC,WAAW,EAAE,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC;QAE7D,UAAU,CAAC,YAAY,GAAG,IAAI,IAAI,CAAC,SAAS,CAAC,YAAY,EAAE,CAAC;QAC5D,UAAU,CAAC,sBAAsB,GAAG,IAAI,IAAI,CAAC,SAAS,CAAC,sBAAsB,CAAC,UAAU,CAAC,YAAY,CAAC,CAAC;QACvG,UAAU,CAAC,sBAAsB,CAAC,gBAAgB,CAC9C,IAAI,CAAC,SAAS,CAAC,qBAAqB,CAAC,oBAAoB,EACzD,UAAU,CAAC,YAAY,CAAC,IAAI,CAAC,UAAU,CAAC,CAC3C,CAAC;IACJ,CAAC,CAAC;IAEF;;;IAGA,UAAU,CAAC,SAAS,CAAC,YAAY,GAAG;QAClC,UAAU,CAAC,iBAAiB,EAAE,CAAC;QAC/B,UAAU,CAAC,iBAAiB,EAAE,CAAC;QAC/B,UAAU,CAAC,aAAa,CAAC,IAAI,EAAE,CAAC;QAChC,UAAU,CAAC,WAAW,GAAG,YAAY,CAAC,IAAI,CAAC;QAC3C,IAAI,IAAI,IAAI,IAAI,CAAC,SAAS,EAAE;YACxB,IAAI,UAAU,CAAC,YAAY,CAAC,WAAW,EAAE;gBACvC,UAAU,CAAC,iBAAiB,EAAE,CAAC;gBAC7B,OAAO;aACV;SACJ;QACD,UAAU,CAAC,gBAAgB,EAAE,CAAC;IAChC,CAAC,CAAC;IAEF;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAgCA,IAAI,aAAa,GAAG,UAAU,UAAU;QACtC,IAAI,CAAC,MAAM,GAAG,EAAE,CAAC;QAEjB,IAAI,CAAC,SAAS,GAAG,UAAU,MAAM;YAC/B,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;SACtB,CAAC;QAEF,IAAI,CAAC,IAAI,GAAG;YACV,IAAI,UAAU,CAAC,WAAW,KAAK,YAAY,CAAC,OAAO;gBACjD,UAAU,CAAC,WAAW,KAAK,YAAY,CAAC,MAAM;gBAC9C,UAAU,CAAC,WAAW,KAAK,YAAY,CAAC,MAAM,EAAE;gBAChD,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,iBAAiB,CAAC,CAAC;gBACxC,OAAO;aACR;YAED,IAAI,CAAC,MAAM,CAAC,IAAI,EAAE,CAAC;YACnB,UAAU,CAAC,WAAW,GAAG,YAAY,CAAC,OAAO,CAAC;YAC9C,QAAQ,CAAC,cAAc,CAAC,MAAM,CAAC,CAAC,KAAK,CAAC,OAAO,GAAG,MAAM,CAAC;YACvD,QAAQ,CAAC,cAAc,CAAC,OAAO,CAAC,CAAC,KAAK,CAAC,OAAO,GAAG,OAAO,CAAC;YACzD,IAAI,CAAC,oBAAoB,EAAE,CAAC;SAC7B,CAAC;QAEF,IAAI,CAAC,oBAAoB,GAAG;YAC1B,IAAI,CAAC,MAAM,CAAC,oBAAoB,EAAE,CAAC;SACpC,CAAA;QAED,IAAI,CAAC,KAAK,GAAG;YACX,IAAI,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC;YACpB,UAAU,CAAC,WAAW,GAAG,YAAY,CAAC,MAAM,CAAC;YAC7C,QAAQ,CAAC,cAAc,CAAC,MAAM,CAAC,CAAC,KAAK,CAAC,OAAO,GAAG,OAAO,CAAC;YACxD,QAAQ,CAAC,cAAc,CAAC,OAAO,CAAC,CAAC,KAAK,CAAC,OAAO,GAAG,MAAM,CAAC;SACzD,CAAC;QAEF,IAAI,CAAC,IAAI,GAAG;YACV,UAAU,CAAC,WAAW,GAAG,YAAY,CAAC,IAAI,CAAC;YAC3C,IAAI,CAAC,MAAM,CAAC,IAAI,EAAE,CAAC;SACpB,CAAC;QAEF,IAAI,CAAC,IAAI,GAAG,UAAU,UAAiB;YAAjB,2BAAA,EAAA,iBAAiB;YACrC,IAAI,CAAC,UAAU,EAAE;gBACf,UAAU,GAAG,UAAU,CAAC,iBAAiB,CAAC;aAC3C;YACD,UAAU,CAAC,WAAW,GAAG,YAAY,CAAC,SAAS,CAAC;YAChD,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;SAC9B,CAAC;;;;;;QAOF,IAAI,CAAC,aAAa,GAAG,UAAU,UAAU;YACvC,OAAO,IAAI,CAAC,MAAM,CAAC,aAAa,CAAC,UAAU,CAAC,CAAC;SAC9C,CAAC;;;;;;;QAQF,IAAI,CAAC,aAAa,GAAG;YACnB,UAAU,CAAC,aAAa,GAAG,IAAI,CAAC,gBAAgB,EAAE,CAAC;YACnD,UAAU,CAAC,aAAa,CAAC,qBAAqB,EAAE,CAAC;YACjD,UAAU,CAAC,WAAW,GAAG,YAAY,CAAC,MAAM,CAAC;YAE7C,IAAI,CAAC,IAAI,EAAE,CAAC;YACZ,UAAU,CAAC,kBAAkB,EAAE,CAAC;YAChC,IAAI,CAAC,aAAa,EAAE,CAAC;SACtB,CAAC;QAEF,IAAI,CAAC,MAAM,GAAG;YACZ,UAAU,CAAC,oBAAoB,GAAG,IAAI,CAAC,gBAAgB,EAAE,CAAC;YAC1D,UAAU,CAAC,mBAAmB,EAAE,CAAC;YACjC,UAAU,CAAC,WAAW,GAAG,YAAY,CAAC,MAAM,CAAC;YAC7C,IAAI,UAAU,CAAC,gBAAgB,GAAG,CAAC,EAAE;gBACjC,IAAI,CAAC,MAAM,CAAC,UAAU,CAAC,gBAAgB,CAAC,CAAC;aAC5C;YACD,IAAI,CAAC,IAAI,EAAE,CAAC;YACZ,UAAU,CAAC,kBAAkB,EAAE,CAAC;YAChC,IAAI,CAAC,oBAAoB,EAAE,CAAC;SAC7B,CAAC;QAEF,IAAI,CAAC,mBAAmB,GAAG;YACzB,OAAO,IAAI,CAAC,MAAM,CAAC,mBAAmB,EAAE,CAAC;SAC1C,CAAC;QAEF,IAAI,CAAC,gBAAgB,GAAG;YACtB,OAAO,IAAI,CAAC,MAAM,CAAC,gBAAgB,EAAE,CAAC;SACvC,CAAC;QAEF,IAAI,CAAC,aAAa,GAAG;;YAEnB,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC,MAAM,CAAC,mBAAmB,EAAE,CAAC;YAC1D,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,MAAM,CAAC,gBAAgB,EAAE,CAAC;YAEpD,IAAI,CAAC,MAAM,CAAC,aAAa,EAAE,CAAC;SAC7B,CAAC;QAEF,IAAI,CAAC,wBAAwB,GAAG;YAC9B,IAAI,CAAC,MAAM,CAAC,wBAAwB,EAAE,CAAC;SACxC,CAAC;;;;QAKF,IAAI,CAAC,aAAa,GAAG,UAAU,OAAO,EAAE,IAAI;YAC1C,IAAI,CAAC,MAAM,CAAC,aAAa,CAAC,OAAO,EAAE,IAAI,CAAC,CAAC;SAC1C,CAAC;QAEF,IAAI,CAAC,SAAS,GAAG,UAAU,oBAAoB;YAC7C,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,oBAAoB,CAAC,CAAC;SAC7C,CAAC;QAEF,IAAI,CAAC,IAAI,GAAG;YACV,IAAI,CAAC,MAAM,CAAC,IAAI,EAAE,CAAC;YACnB,QAAQ,CAAC,cAAc,CAAC,UAAU,CAAC,CAAC,KAAK,CAAC,OAAO,GAAG,MAAM,CAAC;YAC3D,QAAQ,CAAC,cAAc,CAAC,WAAW,CAAC,CAAC,KAAK,CAAC,OAAO,GAAG,OAAO,CAAC;SAC9D,CAAC;QAEF,IAAI,CAAC,MAAM,GAAG;YACZ,IAAI,CAAC,MAAM,CAAC,MAAM,EAAE,CAAC;YACrB,QAAQ,CAAC,cAAc,CAAC,UAAU,CAAC,CAAC,KAAK,CAAC,OAAO,GAAG,OAAO,CAAC;YAC5D,QAAQ,CAAC,cAAc,CAAC,WAAW,CAAC,CAAC,KAAK,CAAC,OAAO,GAAG,MAAM,CAAC;SAC7D,CAAC;QAEF,IAAI,CAAC,OAAO,GAAG;YACb,OAAO,IAAI,CAAC,MAAM,CAAC,OAAO,EAAE,CAAC;SAC9B,CAAC;QAEF,IAAI,CAAC,MAAM,GAAG,UAAU,IAAI;YAC1B,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;SAC1B,CAAC;IACJ,CAAC,CAAC;IAEF;;;IAGA,UAAU,CAAC,SAAS,CAAC,gBAAgB,GAAG;QACtC,IAAI,WAAW,GAAG,QAAQ,CAAC,cAAc,CAAC,eAAe,CAAC,CAAC;QAC3D,WAAW,CAAC,gBAAgB,CAC1B,YAAY,EAAE,UAAU,CAAC,oBAAoB,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC;;QAGlE,IAAI,YAAY,GAAG,EAAE,CAAC;QAEtB,YAAY,CAAC,IAAI,GAAG;YAClB,WAAW,CAAC,IAAI,EAAE,CAAC;YAEnB,IAAI,EAAE,GAAG,QAAQ,CAAC,cAAc,CAAC,aAAa,CAAC,CAAC;YAChD,EAAE,CAAC,KAAK,CAAC,OAAO,GAAG,MAAM,CAAC;YAC1B,WAAW,CAAC,KAAK,CAAC,OAAO,GAAG,OAAO,CAAC;SACrC,CAAC;QAEF,YAAY,CAAC,KAAK,GAAG;YACnB,WAAW,CAAC,KAAK,EAAE,CAAC;SACrB,CAAC;QAEF,YAAY,CAAC,IAAI,GAAG;YAClB,IAAI,OAAO,WAAW,CAAC,IAAI,KAAK,UAAU;gBACxC,WAAW,CAAC,IAAI,EAAE,CAAC;SACtB,CAAC;QAEF,YAAY,CAAC,IAAI,GAAG,UAAU,UAAU;YACtC,WAAW,CAAC,GAAG;gBACb,UAAU,CAAC,aAAa,CAAC,UAAU,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC;YACrD,WAAW,CAAC,IAAI,EAAE,CAAC;SACpB,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;QAEnB,YAAY,CAAC,mBAAmB,GAAG;YACjC,OAAO,WAAW,CAAC,WAAW,CAAC;SAChC,CAAC;QAEF,YAAY,CAAC,gBAAgB,GAAG;YAC9B,OAAO,WAAW,CAAC,QAAQ,CAAC;SAC7B,CAAC;QAEF,YAAY,CAAC,oBAAoB,GAAG;YAClC,QAAQ,CAAC,cAAc,CAAC,aAAa,CAAC,CAAC,KAAK,CAAC,OAAO,GAAG,MAAM,CAAC;YAC9D,QAAQ,CAAC,cAAc,CAAC,eAAe,CAAC,CAAC,KAAK,CAAC,OAAO,GAAG,MAAM,CAAC;YAChE,QAAQ,CAAC,cAAc,CAAC,qBAAqB,CAAC,CAAC,KAAK,CAAC,OAAO,GAAG,MAAM,CAAC;SACvE,CAAC;QAEF,YAAY,CAAC,SAAS,GAAG,UAAU,oBAAoB;YACrD,WAAW,CAAC,MAAM,GAAG,oBAAoB,GAAG,kBAAkB;gBAC5D,oBAAoB,GAAG,kBAAkB,GAAG,CAAC,CAAC;YAChD,IAAI,CAAC,GAAG,QAAQ,CAAC,cAAc,CAAC,gBAAgB,CAAC,CAAC;YAClD,CAAC,CAAC,KAAK,CAAC,MAAM,GAAG,oBAAoB,GAAG,IAAI,CAAC;YAC7C,CAAC,CAAC,KAAK,CAAC,SAAS,GAAG,CAAC,oBAAoB,GAAG,IAAI,CAAC;SAClD,CAAC;QAEF,YAAY,CAAC,IAAI,GAAG;YAClB,WAAW,CAAC,KAAK,GAAG,IAAI,CAAC;SAC1B,CAAC;QAEF,YAAY,CAAC,MAAM,GAAG;YACpB,WAAW,CAAC,KAAK,GAAG,KAAK,CAAC;SAC3B,CAAC;QAEF,YAAY,CAAC,OAAO,GAAG;YACrB,OAAO,WAAW,CAAC,KAAK,CAAC;SAC1B,CAAC;QAEF,YAAY,CAAC,MAAM,GAAG,UAAU,IAAI;YAClC,WAAW,CAAC,WAAW,GAAG,IAAI,CAAC;SAChC,CAAC;QAEF,UAAU,CAAC,aAAa,CAAC,SAAS,CAAC,YAAY,CAAC,CAAC;QAEjD,UAAU,CAAC,aAAa,CAAC,SAAS,CAAC,cAAc,GAAG,kBAAkB,CAAC,CAAC;QAExE,UAAU,CAAC,oBAAoB,EAAE,CAAC;QAElC,IAAI,UAAU,CAAC,gBAAgB,GAAG,CAAC,EAAE;YACnC,UAAU,CAAC,aAAa,CAAC,IAAI,EAAE,CAAC;SACjC;IACH,CAAC,CAAC;IAEF;;;;IAIA,UAAU,CAAC,SAAS,CAAC,iBAAiB,GAAG;QACvC,IAAI,WAAW,GAAG,IAAI,CAAC,SAAS,CAAC,WAAW,CAAC,WAAW,EAAE,CAAC,iBAAiB,EAAE,CAAC;;QAG/E,UAAU,CAAC,sBAAsB,CAAC,gBAAgB,CAC9C,IAAI,CAAC,SAAS,CAAC,qBAAqB,CAAC,iBAAiB,EACtD;YACI,IAAI,UAAU,CAAC,YAAY,CAAC,QAAQ,EAAE;gBAClC,UAAU,CAAC,aAAa,CAAC,KAAK,EAAE,CAAC;aACpC;iBAAM;gBACH,UAAU,CAAC,aAAa,CAAC,IAAI,EAAE,CAAC;aACnC;SACJ,CAAC,IAAI,CAAC,UAAU,CAAC,CACrB,CAAC;QAEF,UAAU,CAAC,sBAAsB,CAAC,gBAAgB,CAC9C,IAAI,CAAC,SAAS,CAAC,qBAAqB,CAAC,gBAAgB,EACrD;YACI,IAAI,UAAU,CAAC,YAAY,CAAC,OAAO,EAAE;gBACjC,UAAU,CAAC,aAAa,CAAC,IAAI,EAAE,CAAC;aACnC;iBAAM;gBACH,UAAU,CAAC,aAAa,CAAC,MAAM,EAAE,CAAC;aACrC;SACJ,CAAC,IAAI,CAAC,UAAU,CAAC,CACrB,CAAC;QAEF,UAAU,CAAC,sBAAsB,CAAC,gBAAgB,CAC9C,IAAI,CAAC,SAAS,CAAC,qBAAqB,CAAC,oBAAoB,EACzD;YACI,IAAI,SAAS,GAAG,UAAU,CAAC,YAAY,CAAC,WAAW,GAAG,kBAAkB,CAAC;YACzE,IAAI,CAAC,GAAG,QAAQ,CAAC,cAAc,CAAC,gBAAgB,CAAC,CAAC;YAClD,CAAC,CAAC,KAAK,CAAC,MAAM,GAAG,SAAS,GAAG,IAAI,CAAC;YAClC,CAAC,CAAC,KAAK,CAAC,SAAS,GAAG,CAAC,SAAS,GAAG,IAAI,CAAC;SACzC,CAAC,IAAI,CAAC,UAAU,CAAC,CACrB,CAAC;;;;QAKF,IAAI,YAAY,GAAG,EAAE,CAAC;QAEtB,YAAY,CAAC,IAAI,GAAG;YAChB,IAAI,UAAU,CAAC,YAAY,CAAC,QAAQ,EAAE;gBAClC,UAAU,CAAC,sBAAsB,CAAC,WAAW,EAAE,CAAC;aACnD;YAED,IAAI,EAAE,GAAG,QAAQ,CAAC,cAAc,CAAC,aAAa,CAAC,CAAC;YAChD,EAAE,CAAC,KAAK,CAAC,OAAO,GAAG,OAAO,CAAC;YAC3B,IAAI,WAAW,GAAG,QAAQ,CAAC,cAAc,CAAC,eAAe,CAAC,CAAC;YAC3D,WAAW,CAAC,KAAK,CAAC,OAAO,GAAG,MAAM,CAAC;SACtC,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;QAEnB,YAAY,CAAC,KAAK,GAAG;YACjB,IAAI,CAAC,UAAU,CAAC,YAAY,CAAC,QAAQ,EAAE;gBACnC,UAAU,CAAC,sBAAsB,CAAC,WAAW,EAAE,CAAC;aACnD;SACJ,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;QAEnB,YAAY,CAAC,IAAI,GAAG;YACf,UAAU,CAAC,sBAAsB,CAAC,IAAI,EAAE,CAAC;SAC7C,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;QAEnB,YAAY,CAAC,IAAI,GAAG,UAAU,UAAU;YACpC,OAAO,CAAC,GAAG,CAAC,YAAY,GAAG,UAAU,CAAC,aAAa,CAAC,UAAU,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC;YAC1E,IAAI,SAAS,GAAG,IAAI,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,SAAS,CAC3C,UAAU,CAAC,aAAa,CAAC,UAAU,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,EAAE,WAAW,CAAC,CAAC;YAErE,SAAS,CAAC,QAAQ,GAAG,IAAI,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,oBAAoB,EAAE,CAAC;YAClE,SAAS,CAAC,QAAQ,CAAC,YAAY,GAAG,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,OAAO,CAAC;YACzE,SAAS,CAAC,QAAQ,CAAC,KAAK,GAAG,UAAU,CAAC,aAAa,CAAC,UAAU,CAAC,CAAC,OAAO,CAAC,CAAC;YACzE,SAAS,CAAC,QAAQ,CAAC,MAAM,GAAG;gBACxB,EAAC,KAAK,EAAE,iBAAiB,GAAG,UAAU,CAAC,aAAa,CAAC,UAAU,CAAC,CAAC,OAAO,CAAC,EAAC;aAAC,CAAC;YAEhF,IAAI,OAAO,GAAG,IAAI,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC,SAAS,CAAC,CAAC;YAC3D,WAAW,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC,IAAI,CAC/B,UAAU,CAAC,aAAa,CAAC,MAAM,CAAC,IAAI,CAAC,UAAU,CAAC,aAAa,CAAC,EAC9D,UAAU,SAAS;gBACf,UAAU,CAAC,WAAW,GAAG,YAAY,CAAC,KAAK,CAAC;gBAC5C,OAAO,CAAC,GAAG,CAAC,2BAA2B;oBACnC,UAAU,CAAC,eAAe,CAAC,SAAS,CAAC,CAAC,CAAC;aAC9C,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC;SAC3B,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;QAEnB,YAAY,CAAC,mBAAmB,GAAG;YAC/B,OAAO,UAAU,CAAC,YAAY,CAAC,WAAW,CAAC;SAC9C,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;QAEnB,YAAY,CAAC,gBAAgB,GAAG;YAC5B,OAAO,UAAU,CAAC,YAAY,CAAC,QAAQ,CAAC;SAC3C,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;QAEnB,YAAY,CAAC,oBAAoB,GAAG;YAChC,QAAQ,CAAC,cAAc,CAAC,aAAa,CAAC,CAAC,KAAK,CAAC,OAAO,GAAG,OAAO,CAAC;YAC/D,QAAQ,CAAC,cAAc,CAAC,eAAe,CAAC,CAAC,KAAK,CAAC,OAAO,GAAG,OAAO,CAAC;YACjE,QAAQ,CAAC,cAAc,CAAC,qBAAqB,CAAC,CAAC,KAAK,CAAC,OAAO,GAAG,OAAO,CAAC;YACvE,QAAQ,CAAC,cAAc,CAAC,aAAa,CAAC,CAAC,SAAS;gBAC5C,UAAU,CAAC,aAAa,CAAE,UAAU,CAAC,iBAAiB,CAAC,CAAC,OAAO,CAAC,GAAG,GAAG;oBACtE,UAAU,CAAC,WAAW,GAAG,MAAM,GAAG,WAAW,CAAC,aAAa,EAAE,CAAC,YAAY,CAAC;SAClF,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;QAEnB,YAAY,CAAC,SAAS,GAAG,UAAU,oBAAoB;;YAEnD,IAAI,aAAa,GAAG,UAAU,CAAC,YAAY,CAAC,WAAW,CAAC;YACxD,IAAI,CAAC,GAAG,QAAQ,CAAC,cAAc,CAAC,gBAAgB,CAAC,CAAC;YAClD,IAAI,oBAAoB,GAAG,kBAAkB,EAAE;gBAC3C,IAAI,MAAM,GAAI,UAAU,CAAC,aAAa,GAAG,kBAAkB,CAAC;gBAC5D,IAAI,oBAAoB,GAAG,MAAM,EAAE;oBAC/B,oBAAoB,GAAG,MAAM,GAAG,CAAC,GAAG,GAAG,MAAM,IAAI,CAAC,CAAC;iBACtD;gBACD,CAAC,CAAC,KAAK,CAAC,MAAM,GAAG,oBAAoB,GAAG,IAAI,CAAC;gBAC7C,CAAC,CAAC,KAAK,CAAC,SAAS,GAAG,CAAC,oBAAoB,GAAG,IAAI,CAAC;gBACjD,aAAa,GAAG,oBAAoB,GAAG,kBAAkB,CAAC;aAC7D;iBAAM;gBACH,aAAa,GAAG,CAAC,CAAC;aACrB;YACD,UAAU,CAAC,YAAY,CAAC,WAAW,GAAG,aAAa,CAAC;YACpD,UAAU,CAAC,sBAAsB,CAAC,cAAc,EAAE,CAAC;SACtD,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;QAEnB,YAAY,CAAC,IAAI,GAAG;YAChB,IAAI,CAAC,UAAU,CAAC,YAAY,CAAC,OAAO,EAAE;gBAClC,UAAU,CAAC,sBAAsB,CAAC,YAAY,EAAE,CAAC;aACpD;SACJ,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;QAEnB,YAAY,CAAC,MAAM,GAAG;YAClB,IAAI,UAAU,CAAC,YAAY,CAAC,OAAO,EAAE;gBACjC,UAAU,CAAC,sBAAsB,CAAC,YAAY,EAAE,CAAC;aACpD;SACJ,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;QAEnB,YAAY,CAAC,OAAO,GAAG;YACnB,OAAO,UAAU,CAAC,YAAY,CAAC,OAAO,CAAC;SAC1C,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;QAEnB,YAAY,CAAC,MAAM,GAAG,UAAU,IAAI;YAChC,UAAU,CAAC,YAAY,CAAC,WAAW,GAAG,IAAI,CAAC;YAC3C,UAAU,CAAC,sBAAsB,CAAC,IAAI,EAAE,CAAC;SAC5C,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;QAEnB,UAAU,CAAC,aAAa,CAAC,SAAS,CAAC,YAAY,CAAC,CAAC;;;QAIjD,IAAI,UAAU,CAAC,YAAY,CAAC,OAAO,EAAE;YACjC,UAAU,CAAC,aAAa,CAAC,IAAI,EAAE,CAAC;SACnC;QACD,IAAI,aAAa,GAAG,UAAU,CAAC,YAAY,CAAC,WAAW,GAAG,kBAAkB,CAAC;QAC7E,IAAI,CAAC,GAAG,QAAQ,CAAC,cAAc,CAAC,gBAAgB,CAAC,CAAC;QAClD,CAAC,CAAC,KAAK,CAAC,MAAM,GAAG,aAAa,GAAG,IAAI,CAAC;QACtC,CAAC,CAAC,KAAK,CAAC,SAAS,GAAG,CAAC,aAAa,GAAG,IAAI,CAAC;QAE1C,UAAU,CAAC,oBAAoB,EAAE,CAAC;QAElC,UAAU,CAAC,aAAa,CAAC,IAAI,EAAE,CAAC;IAClC,CAAC,CAAC;IAEF;;;IAGA,UAAU,CAAC,SAAS,CAAC,oBAAoB,GAAG;QAC1C,IAAI,WAAW,GAAG,QAAQ,CAAC,cAAc,CAAC,eAAe,CAAC,CAAC;QAC3D,WAAW,CAAC,WAAW,GAAG,UAAU,CAAC,gBAAgB,CAAC;QAEtD,UAAU,CAAC,aAAa,CAAC,MAAM,EAAE,CAAC;IACpC,CAAC,CAAC;IAEF;;;;IAIA,UAAU,CAAC,SAAS,CAAC,WAAW,GAAG,UAAU,UAAU;QACrD,OAAO,CAAC,GAAG,CAAC,wBAAwB,GAAG,UAAU,CAAC,CAAC;QAEnD,UAAU,CAAC,iBAAiB,GAAG,UAAU,CAAC;;QAE1C,UAAU,CAAC,aAAa,CAAC,gBAAgB,GAAG,SAAS,CAAC;;QAGtD,IAAI,EAAE,GAAG,QAAQ,CAAC,cAAc,CAAC,aAAa,CAAC,CAAC;QAChD,EAAE,CAAC,GAAG,GAAG,iBAAiB,GAAG,UAAU,CAAC,aAAa,CAAC,UAAU,CAAC,CAAC,OAAO,CAAC,CAAC;;QAG3E,IAAI,EAAE,GAAG,QAAQ,CAAC,cAAc,CAAC,oBAAoB,CAAC,CAAC;QACvD,EAAE,CAAC,KAAK,CAAC,UAAU,GAAG,KAAK,CAAC;QAC5B,IAAI,QAAQ,GAAG,QAAQ,CAAC,cAAc,CAAC,UAAU,CAAC,CAAC;QACnD,QAAQ,CAAC,KAAK,CAAC,KAAK,GAAG,KAAK,CAAC;QAE7B,IAAI,eAAe,GAAG,QAAQ,CAAC,cAAc,CAAC,iBAAiB,CAAC,CAAC;QACjE,IAAI,kBAAkB,GAAG,QAAQ,CAAC,cAAc,CAAC,oBAAoB,CAAC,CAAC;QACvE,eAAe,CAAC,KAAK,CAAC,KAAK,GAAG,kBAAkB,CAAC;QACjD,kBAAkB,CAAC,KAAK,CAAC,KAAK,GAAG,KAAK,CAAC;;QAGvC,UAAU,CAAC,iBAAiB,EAAE,CAAC;QAC/B,UAAU,CAAC,gBAAgB,GAAG,CAAC,CAAC;QAChC,UAAU,CAAC,aAAa,CAAC,aAAa,CAAC,QAAQ,CAAC,cAAc,CAAC,aAAa,CAAC,EAAE,CAAC,CAAC,CAAC;QAClF,UAAU,CAAC,aAAa,CAAC,aAAa,CAAC,QAAQ,CAAC,cAAc,CAAC,UAAU,CAAC,EAAE,CAAC,CAAC,CAAC;QAE/E,UAAU,CAAC,WAAW,GAAG,YAAY,CAAC,IAAI,CAAC;QAC3C,UAAU,CAAC,aAAa,CAAC,IAAI,EAAE,CAAC;IAClC,CAAC,CAAC;IAEF;;;;IAIA,UAAU,CAAC,SAAS,CAAC,SAAS,GAAG,UAAU,KAAK;QAC9C,IAAI,UAAU,CAAC,aAAa,IAAI,IAAI,KAAK,IAAI,CAAC,SAAS,CAAC,WAAW,CAAC,WAAW,EAAE,CAAC,iBAAiB,EAAE,IAAI,CAAC,UAAU,CAAC,YAAY,CAAC,OAAO,CAAC,EAAE;YAC1I,OAAO,CAAC,GAAG,CAAC,sBAAsB,CAAC,CAAC;YACpC,OAAO;SACR;QAED,IAAI,UAAU,CAAC,aAAa,IAAI,CAAC,UAAU,CAAC,iBAAiB,EAAE;YAC7D,OAAO,CAAC,GAAG,CAAC,qCAAqC,CAAC,CAAA;YAClD,OAAO;SACR;QAED,IAAI,QAAQ,GAAG,QAAQ,CAAC,KAAK,CAAC,OAAO,EAAE,EAAE,CAAC,CAAC;QAC3C,IAAI,EAAE,GAAG,QAAQ,CAAC,cAAc,CAAC,oBAAoB,CAAC,CAAC;QACvD,IAAI,QAAQ,GAAG,QAAQ,CAAC,cAAc,CAAC,UAAU,CAAC,CAAC;QACnD,IAAI,QAAQ,GAAG,CAAC,CAAC;QACjB,IAAI,EAAE,GAAG,CAAC,CAAC;QACX,IAAI,EAAE,GAAG,CAAC,CAAC;QACX,IAAI,KAAK,CAAC,aAAa,CAAC,EAAE,IAAI,oBAAoB,EAAE;YAClD,QAAQ,GAAG,QAAQ,CAAC,UAAU,CAAC,gBAAgB,GAAG,UAAU,CAAC,aAAa,GAAG,QAAQ;gBACnF,kBAAkB,EAAE,EAAE,CAAC,CAAC;YAC1B,EAAE,GAAG,QAAQ,CAAC,EAAE,CAAC,KAAK,CAAC,UAAU,EAAE,EAAE,CAAC,GAAG,QAAQ,CAAC;YAClD,EAAE,GAAG,QAAQ,CAAC,QAAQ,CAAC,KAAK,CAAC,KAAK,EAAE,EAAE,CAAC,GAAG,QAAQ,CAAC;SACpD;aAAM;YACL,QAAQ,GAAG,QAAQ,CAAC,QAAQ,GAAG,UAAU,CAAC,aAAa,GAAG,kBAAkB,EAAE,EAAE,CAAC,CAAC;YAClF,EAAE,GAAG,QAAQ,CAAC;YACd,EAAE,GAAG,QAAQ,CAAC;SACf;QAED,IAAI,UAAU,CAAC,WAAW,KAAK,YAAY,CAAC,OAAO;YACjD,UAAU,CAAC,WAAW,KAAK,YAAY,CAAC,MAAM,EAAE;YAChD,UAAU,CAAC,gBAAgB,GAAG,QAAQ,CAAC;YACvC,QAAQ,CAAC,KAAK,CAAC,KAAK,GAAG,EAAE,GAAG,IAAI,CAAC;YACjC,EAAE,CAAC,KAAK,CAAC,UAAU,GAAG,EAAE,GAAG,IAAI,CAAC;SACjC;QAED,IAAI,UAAU,CAAC,aAAa,EAAE;YAC5B,QAAQ,IAAI,UAAU,CAAC,SAAS,CAAC,QAAQ,CAAC,uBAAuB,CAAC;SACnE;QAED,UAAU,CAAC,aAAa,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC;IAC5C,CAAC,CAAC;IAEF;;;;IAIA,UAAU,CAAC,SAAS,CAAC,SAAS,GAAG,UAAU,UAAU;QACnD,IAAI,CAAC,GAAG,QAAQ,CAAC,cAAc,CAAC,gBAAgB,CAAC,CAAC;QAClD,IAAI,GAAG,GAAG,CAAC,CAAC;QACZ,IAAI,UAAU,CAAC,aAAa,CAAC,EAAE,KAAK,gBAAgB,EAAE;YACpD,GAAG,GAAG,kBAAkB,GAAG,QAAQ,CAAC,UAAU,CAAC,OAAO,EAAE,EAAE,CAAC,CAAC;SAC7D;aAAM;YACL,GAAG,GAAG,QAAQ,CAAC,CAAC,CAAC,YAAY,EAAE,EAAE,CAAC,GAAG,QAAQ,CAAC,UAAU,CAAC,OAAO,EAAE,EAAE,CAAC,CAAC;SACvE;QACD,UAAU,CAAC,aAAa,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC;IAC1C,CAAC,CAAC;IAEF;;;IAGA,UAAU,CAAC,SAAS,CAAC,kBAAkB,GAAG;QACxC,UAAU,CAAC,iBAAiB,EAAE,CAAC;;QAG/B,UAAU,CAAC,KAAK,GAAG,WAAW,CAAC,UAAU,CAAC,yBAAyB,EAAE,UAAU,CAAC,CAAC;IACnF,CAAC,CAAC;IAEF;;;IAGA,UAAU,CAAC,SAAS,CAAC,iBAAiB,GAAG;QACvC,IAAI,UAAU,CAAC,KAAK,EAAE;YACpB,aAAa,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC;YAChC,UAAU,CAAC,KAAK,GAAG,IAAI,CAAC;SACzB;IACH,CAAC,CAAC;IAEF;;;IAGA,UAAU,CAAC,SAAS,CAAC,kBAAkB,GAAG;;QAEtC,UAAU,CAAC,gBAAgB,GAAG,UAAU,CAAC,aAAa,CAAC,mBAAmB,EAAE,CAAC;QAC7E,UAAU,CAAC,oBAAoB,GAAG,UAAU,CAAC,aAAa,CAAC,gBAAgB,EAAE,CAAC;QAE9E,IAAI,UAAU,CAAC,WAAW,KAAK,YAAY,CAAC,OAAO,EAAE;YACjD,IAAI,UAAU,CAAC,gBAAgB,GAAG,UAAU,CAAC,oBAAoB,EAAE;gBACjE,UAAU,CAAC,gBAAgB,IAAI,CAAC,CAAC;gBACjC,UAAU,CAAC,wBAAwB,EAAE,CAAC;aACvC;iBAAM;gBACL,UAAU,CAAC,WAAW,EAAE,CAAC;aAC1B;SACJ;IACL,CAAC,CAAC;IAEF;;;IAGA,UAAU,CAAC,SAAS,CAAC,wBAAwB,GAAG;QAC9C,IAAI,CAAC,GAAG,QAAQ,CAAC,cAAc,CAAC,UAAU,CAAC,CAAC;QAC5C,IAAI,KAAK,CAAC,QAAQ,CAAC,CAAC,CAAC,KAAK,CAAC,KAAK,EAAE,EAAE,CAAC,CAAC,EAAE;YACpC,CAAC,CAAC,KAAK,CAAC,KAAK,GAAG,CAAC,CAAC;SACrB;QACD,IAAI,UAAU,CAAC,oBAAoB,GAAG,CAAC,EAAE;YACrC,IAAI,EAAE,GAAG,IAAI,CAAC,KAAK,CACf,kBAAkB,GAAG,UAAU,CAAC,gBAAgB,GAAG,UAAU,CAAC,oBAAoB,CAAC,CAAC;SAC3F;QAED,CAAC,CAAC,KAAK,CAAC,KAAK,GAAG,EAAE,GAAG,IAAI,CAAC;QAC1B,IAAI,EAAE,GAAG,QAAQ,CAAC,cAAc,CAAC,oBAAoB,CAAC,CAAC;QACvD,EAAE,CAAC,KAAK,CAAC,UAAU,GAAG,CAAC,EAAE,GAAG,kBAAkB,GAAG,EAAE,GAAG,IAAI,CAAC;QAE3D,IAAI,EAAE,IAAI,kBAAkB,EAAE;YAC5B,UAAU,CAAC,WAAW,EAAE,CAAC;SAC1B;IACH,CAAC,CAAC;IAEF;;;IAGA,UAAU,CAAC,SAAS,CAAC,WAAW,GAAG;QACjC,UAAU,CAAC,gBAAgB,GAAG,CAAC,CAAC;QAChC,UAAU,CAAC,iBAAiB,EAAE,CAAC;QAC/B,UAAU,CAAC,WAAW,GAAG,YAAY,CAAC,IAAI,CAAC;QAC3C,UAAU,CAAC,aAAa,CAAC,aAAa,EAAE,CAAC;QAEzC,IAAI,IAAI,GAAG,QAAQ,CAAC,cAAc,CAAC,MAAM,CAAC,CAAC;QAC3C,IAAI,IAAI,IAAI,IAAI,CAAC,KAAK,IAAI,IAAI,CAAC,OAAO;YACpC,IAAI,CAAC,KAAK,CAAC,OAAO,GAAG,OAAO,CAAC;QAE/B,IAAI,KAAK,GAAG,QAAQ,CAAC,cAAc,CAAC,OAAO,CAAC,CAAC;QAC7C,IAAI,KAAK,IAAI,KAAK,CAAC,KAAK,IAAI,KAAK,CAAC,KAAK,CAAC,OAAO;YAC7C,KAAK,CAAC,KAAK,CAAC,OAAO,GAAG,MAAM,CAAC;IACjC,CAAC,CAAC;IAEF;;;;IAIA,UAAU,CAAC,SAAS,CAAC,kBAAkB,GAAG,UAAU,SAAS;QAC3D,IAAI,SAAS,IAAI,SAAS,IAAI,SAAS,IAAI,IAAI,EAAE;YAC/C,OAAO,IAAI,CAAC;SACb;QAED,IAAI,UAAU,GAAG,KAAK,CAAC;QACvB,IAAI,SAAS,GAAG,CAAC,EAAE;YACjB,UAAU,GAAG,IAAI,CAAC;YAClB,SAAS,IAAI,CAAC,CAAC,CAAC;SACjB;QAED,IAAI,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,SAAS,GAAG,IAAI,CAAC,CAAC;QACzC,IAAI,OAAO,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,SAAS,IAAI,KAAK,GAAG,IAAI,CAAC,IAAI,EAAE,CAAC,CAAC;QAC5D,IAAI,OAAO,GAAG,IAAI,CAAC,KAAK,CAAC,SAAS,IAAI,KAAK,GAAG,IAAI,CAAC,IAAI,OAAO,GAAG,EAAE,CAAC,CAAC,CAAC;QAEtE,IAAI,KAAK,GAAG,EAAE;YAAE,KAAK,GAAG,GAAG,GAAG,KAAK,CAAC;QACpC,IAAI,OAAO,GAAG,EAAE;YAAE,OAAO,GAAG,GAAG,GAAG,OAAO,CAAC;QAC1C,IAAI,OAAO,GAAG,EAAE;YAAE,OAAO,GAAG,GAAG,GAAG,OAAO,CAAC;QAE1C,OAAO,CAAC,UAAU,GAAG,GAAG,GAAG,EAAE,IAAI,KAAK,GAAG,GAAG,GAAG,OAAO,GAAG,GAAG,GAAG,OAAO,CAAC;IACzE,CAAC,CAAC;IAEF;;;;IAIA,UAAU,CAAC,SAAS,CAAC,kBAAkB,GAAG,UAAU,SAAS;QAC3D,IAAI,CAAC,SAAS;YAAE,OAAO,SAAS,CAAC;QAEjC,IAAI,IAAI,GAAG,IAAI,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,CAAC;QACtC,IAAI,KAAK,GAAG,IAAI,CAAC,QAAQ,EAAE,CAAC;QAC5B,IAAI,OAAO,GAAG,IAAI,CAAC,UAAU,EAAE,CAAC;QAChC,IAAI,OAAO,GAAG,IAAI,CAAC,UAAU,EAAE,CAAC;QAChC,IAAI,IAAI,GAAG,KAAK,IAAI,EAAE,GAAG,IAAI,GAAG,IAAI,CAAC;QACrC,KAAK,GAAG,KAAK,GAAG,EAAE,CAAC;;QAEnB,KAAK,GAAG,KAAK,GAAG,KAAK,GAAG,EAAE,CAAC;QAC3B,OAAO,GAAG,CAAC,GAAG,GAAG,OAAO,EAAE,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;QACpC,OAAO,GAAG,CAAC,GAAG,GAAG,OAAO,EAAE,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;QACpC,IAAI,SAAS,GAAG,KAAK,GAAG,GAAG,GAAG,OAAO,GAAG,GAAG,GAAG,OAAO,GAAG,GAAG,GAAG,IAAI,CAAC;QACnE,OAAO,SAAS,CAAC;IACnB,CAAC,CAAC;IAEF;;;IAGA,UAAU,CAAC,SAAS,CAAC,eAAe,GAAG;QACrC,IAAI,WAAW,GAAG,IAAI,CAAC,SAAS,CAAC,WAAW,CAAC,WAAW,EAAE,CAAC,iBAAiB,EAAE,CAAC;QAC/E,IAAI,CAAC,WAAW;YAAE,OAAO;QAEzB,IAAI,KAAK,GAAG,WAAW,CAAC,eAAe,EAAE,CAAC;QAC1C,IAAI,CAAC,KAAK;YAAE,OAAO;QAEnB,IAAI,SAAS,GAAG,KAAK,CAAC,KAAK,CAAC;QAC5B,IAAI,CAAC,SAAS;YAAE,OAAO;QAEvB,IAAI,MAAM,GAAG,SAAS,CAAC,MAAM,CAAC;QAC9B,IAAI,eAAe,GAAG,SAAS,CAAC,QAAQ,CAAC;QAEzC,IAAI,CAAC,MAAM,EAAE;YACX,OAAO;SACR;QAED,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,MAAM,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;YACtC,IAAI,OAAO,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC;;;YAIxB,IAAI,OAAO,CAAC,QAAQ,GAAG,eAAe,IAAI,OAAO,CAAC,UAAU,EAAE;gBAC5D,SAAS;aACV;;YAGD,IAAI,CAAC,QAAQ,CAAC,cAAc,CAAC,IAAI,GAAG,OAAO,CAAC,QAAQ,CAAC,EAAE;gBACrD,IAAI,GAAG,GAAG,QAAQ,CAAC,cAAc,CAAC,UAAU,CAAC,CAAA;gBAC7C,GAAG,CAAC,SAAS,IAAI,8BAA8B,GAAG,OAAO,CAAC,QAAQ;oBAChE,wBAAwB;oBACxB,UAAU,CAAC,kBAAkB,CAAC,OAAO,CAAC,QAAQ,EAAE,eAAe,CAAC,GAAG,YAAY,CAAC;aACnF;SACF;IACH,CAAC,CAAC;IAEF;;;IAGA,UAAU,CAAC,SAAS,CAAC,eAAe,GAAG;QACrC,QAAQ,CAAC,gBAAgB,CAAC,WAAW,CAAC,CAAC,OAAO,CAAC,UAAU,QAAQ;YAC/D,QAAQ,CAAC,MAAM,EAAE,CAAC;SACnB,CAAC,CAAC;IACL,CAAC,CAAC;IAEF;;;IAGA,UAAU,CAAC,SAAS,CAAC,kBAAkB,GAAG,UAAU,QAAQ,EAAE,eAAe;;QAE3E,IAAI,QAAQ,IAAI,CAAC,CAAC,EAAE;YAClB,OAAO,kBAAkB,CAAC;SAC3B;;;QAID,IAAI,QAAQ,GAAG,eAAe,EAAE;YAC9B,OAAO,kBAAkB,CAAC;SAC3B;;QAGD,OAAO,CAAC,kBAAkB,GAAG,QAAQ,IAAI,eAAe,CAAC;IAC3D,CAAC,CAAC;IAEF;;;IAGA,UAAU,CAAC,SAAS,CAAC,oBAAoB,GAAG;;QAE1C,IAAI,IAAI,GAAG,QAAQ,CAAC,cAAc,CAAC,MAAM,CAAC,CAAC;QAC3C,IAAI,IAAI,IAAI,IAAI,CAAC,KAAK,IAAI,IAAI,CAAC,KAAK,CAAC,OAAO;YAC1C,IAAI,CAAC,KAAK,CAAC,OAAO,GAAG,MAAM,CAAC;IAChC,CAAC,CAAC;IAEF;;;IAGA,UAAU,CAAC,SAAS,CAAC,cAAc,GAAG,UAAU,cAAc;QAC5D,UAAU,CAAC,iBAAiB,CAAC,CAAC,cAAc,CAAC,CAAC;IAChD,CAAC,CAAC;IAEF;;;IAGA,UAAU,CAAC,SAAS,CAAC,sBAAsB,GAAG,UAAU,aAAa;QACnE,UAAU,CAAC,aAAa,GAAG,aAAa,CAAC;IAC3C,CAAC,CAAC;IAEF;;;IAGA,UAAU,CAAC,SAAS,CAAC,6BAA6B,GAAG,UAAU,oBAAoB;QACjF,IAAI,IAAI,GAAG,QAAQ,CAAC,cAAc,CAAC,MAAM,CAAC,CAAC;;QAG3C,IAAI,UAAU,CAAC,aAAa,IAAI,SAAS,IAAI,UAAU,CAAC,aAAa,GAAG,CAAC,EAAE;;YAEzE,IAAI,IAAI,IAAI,IAAI,CAAC,KAAK,IAAI,IAAI,CAAC,KAAK,CAAC,OAAO;gBAC1C,IAAI,CAAC,KAAK,CAAC,OAAO,GAAG,MAAM,CAAC;SAC/B;;aAEI,IAAI,UAAU,CAAC,aAAa,KAAK,SAAS,IAAI,oBAAoB,IAAI,UAAU,CAAC,aAAa,EAAE;;YAEnG,IAAI,IAAI,IAAI,IAAI,CAAC,KAAK,IAAI,IAAI,CAAC,KAAK,CAAC,OAAO;gBAC1C,IAAI,CAAC,KAAK,CAAC,OAAO,GAAG,OAAO,CAAC;SAChC;;aAEI;;YAEH,IAAI,IAAI,IAAI,IAAI,CAAC,KAAK,IAAI,IAAI,CAAC,KAAK,CAAC,OAAO;gBAC1C,IAAI,CAAC,KAAK,CAAC,OAAO,GAAG,MAAM,CAAC;SAC/B;IACH,CAAC,CAAC;IAEF;;;IAGA,UAAU,CAAC,SAAS,CAAC,MAAM,GAAG;QAC5B,UAAU,CAAC,sBAAsB,CAAC,MAAM,EAAE,CAAC;IAC7C,CAAC,CAAA;IAED;;;IAGA,UAAU,CAAC,SAAS,CAAC,iBAAiB,GAAG,UAAU,MAAM;QACvD,IAAI,QAAQ,GAAG,QAAQ,CAAC,cAAc,CAAC,UAAU,CAAC,CAAC;QACnD,IAAI,kBAAkB,GAAG,QAAQ,CAAC,cAAc,CAAC,oBAAoB,CAAC,CAAC;QACvE,IAAI,eAAe,GAAG,QAAQ,CAAC,cAAc,CAAC,iBAAiB,CAAC,CAAC;QAEjE,IAAI,MAAM,EAAE;;YAEV,QAAQ,CAAC,KAAK,CAAC,eAAe,GAAG,qDAAqD,CAAC;YACvF,QAAQ,CAAC,KAAK,CAAC,MAAM,GAAG,SAAS,CAAC;YAClC,eAAe,CAAC,KAAK,CAAC,MAAM,GAAG,SAAS,CAAC;YACzC,kBAAkB,CAAC,KAAK,CAAC,MAAM,GAAG,SAAS,CAAC;YAC5C,kBAAkB,CAAC,SAAS,GAAG,IAAI,CAAC;;YAGpC,QAAQ,CAAC,gBAAgB,CAAC,OAAO,EAAE,UAAU,CAAC,iBAAiB,CAAC,CAAC;YACjE,eAAe,CAAC,gBAAgB,CAAC,OAAO,EAAE,UAAU,CAAC,iBAAiB,CAAC,CAAC;YACxE,kBAAkB,CAAC,gBAAgB,CAAC,SAAS,EAAE,UAAU,CAAC,iBAAiB,CAAC,CAAC;SAC9E;aAAM;;YAEL,QAAQ,CAAC,KAAK,CAAC,eAAe,GAAG,mDAAmD,CAAC;YACrF,QAAQ,CAAC,KAAK,CAAC,MAAM,GAAG,SAAS,CAAC;YAClC,eAAe,CAAC,KAAK,CAAC,MAAM,GAAG,SAAS,CAAC;YACzC,kBAAkB,CAAC,KAAK,CAAC,MAAM,GAAG,SAAS,CAAC;YAC5C,kBAAkB,CAAC,SAAS,GAAG,KAAK,CAAC;;YAGrC,QAAQ,CAAC,mBAAmB,CAAC,OAAO,EAAE,UAAU,CAAC,iBAAiB,CAAC,CAAC;YACpE,eAAe,CAAC,mBAAmB,CAAC,OAAO,EAAE,UAAU,CAAC,iBAAiB,CAAC,CAAC;YAC3E,kBAAkB,CAAC,mBAAmB,CAAC,SAAS,EAAE,UAAU,CAAC,iBAAiB,CAAC,CAAC;SACjF;IACH,CAAC,CAAA;IAED;;;IAGA,UAAU,CAAC,SAAS,CAAC,mBAAmB,GAAG;QACzC,QAAQ,CAAC,cAAc,CAAC,UAAU,CAAC,CAAC,SAAS;YACzC,UAAU,CAAC,iBAAiB,CAAC,UAAU,CAAC,oBAAoB,CAAC,CAAC;IACpE,CAAC,CAAC;IAEF;;;;IAIA,UAAU,CAAC,iBAAiB,GAAG,UAAS,aAAa;QACnD,IAAI,cAAc,GAAG,EAAE,GAAG,IAAI,CAAC,KAAK,CAAC,aAAa,GAAG,EAAE,CAAC,CAAC;QACzD,IAAI,aAAa,GAAG,IAAI,CAAC,KAAK,CAAC,aAAa,GAAG,EAAE,CAAC,CAAC;QACnD,IAAI,aAAa,KAAK,CAAC,EAAE;YACrB,OAAO,cAAc,CAAC;SACzB;QACD,cAAc,GAAG,CAAC,aAAa,GAAG,EAAE,IAAI,GAAG,GAAG,cAAc,CAAC;QAC7D,IAAI,cAAc,GAAG,IAAI,CAAC,KAAK,CAAC,aAAa,GAAG,EAAE,CAAC,CAAC;QACpD,IAAI,cAAc,KAAK,CAAC,EAAE;YACtB,OAAO,cAAc,CAAC;SACzB;QACD,OAAO,cAAc,GAAG,GAAG,GAAG,cAAc,CAAC;IAC/C,CAAC,CAAC;IAEF;;;IAGA,UAAU,CAAC,SAAS,CAAC,iBAAiB,GAAG;;QAEvC,IAAI,OAAO,GAAG,QAAQ,CAAC,cAAc,CAAC,eAAe,CAAC,CAAC;QACvD,IAAI,aAAa,GACf,OAAO,CAAC,mBAAmB,CAAC,IAAI,OAAO,CAAC,yBAAyB,CAAC,CAAC;QAErE,IAAI,aAAa,EAAE;;YAEjB,aAAa,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;YAC5B,OAAO,CAAC,GAAG,CAAC,sBAAsB,CAAC,CAAC;SACrC;IACH,CAAC,CAAC;IAEF;;;IAGA,UAAU,CAAC,SAAS,CAAC,gBAAgB,GAAG;;QAEtC,IAAI,aAAa,GACf,QAAQ,CAAC,kBAAkB,CAAC,IAAI,QAAQ,CAAC,wBAAwB,CAAC,CAAC;QAErE,IAAI,aAAa,EAAE;YACjB,aAAa,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;SAC9B;IACH,CAAC,CAAC;IAEF;;;IAGA,UAAU,CAAC,SAAS,CAAC,uBAAuB,GAAG;QAC7C,UAAU,CAAC,UAAU,GAAG,CAAC,UAAU,CAAC,UAAU,CAAC;IACjD,CAAC,CAAC;IAEF;;;IAGA,UAAU,CAAC,SAAS,CAAC,oBAAoB,GAAG;QAC1C,IAAI,iBAAiB,GAAG,QAAQ,CAAC,cAAc,CAAC,mBAAmB,CAAC,CAAC;QACrE,IAAI,mBAAmB,GAAG,QAAQ,CAAC,cAAc,CAAC,qBAAqB,CAAC,CAAC;QAEzE,IAAI,UAAU,CAAC,UAAU,EAAE;YACzB,IAAI,iBAAiB,IAAI,iBAAiB,CAAC,KAAK,IAAI,iBAAiB,CAAC,KAAK,CAAC,OAAO;gBACjF,iBAAiB,CAAC,KAAK,CAAC,OAAO,GAAG,MAAM,CAAC;YAE3C,IAAI,mBAAmB,IAAI,mBAAmB,CAAC,KAAK,IAAI,mBAAmB,CAAC,KAAK,CAAC,OAAO;gBACvF,mBAAmB,CAAC,KAAK,CAAC,OAAO,GAAG,OAAO,CAAC;SAC/C;aAAM;YACL,IAAI,iBAAiB,IAAI,iBAAiB,CAAC,KAAK,IAAI,iBAAiB,CAAC,KAAK,CAAC,OAAO;gBACjF,iBAAiB,CAAC,KAAK,CAAC,OAAO,GAAG,OAAO,CAAC;YAE5C,IAAI,mBAAmB,IAAI,mBAAmB,CAAC,KAAK,IAAI,mBAAmB,CAAC,KAAK,CAAC,OAAO;gBACvF,mBAAmB,CAAC,KAAK,CAAC,OAAO,GAAG,MAAM,CAAC;SAC9C;IACH,CAAC,CAAC;IAEF;;;IAGA,UAAU,CAAC,SAAS,CAAC,oBAAoB,GAAG;QAC1C,IAAI,iBAAiB,GAAG,QAAQ,CAAC,cAAc,CAAC,mBAAmB,CAAC,CAAC;QACrE,IAAI,mBAAmB,GAAG,QAAQ,CAAC,cAAc,CAAC,qBAAqB,CAAC,CAAC;QAEzE,IAAI,iBAAiB,IAAI,iBAAiB,CAAC,KAAK,IAAI,iBAAiB,CAAC,KAAK,CAAC,OAAO;YACjF,iBAAiB,CAAC,KAAK,CAAC,OAAO,GAAG,MAAM,CAAC;QAE3C,IAAI,mBAAmB,IAAI,mBAAmB,CAAC,KAAK,IAAI,mBAAmB,CAAC,KAAK,CAAC,OAAO;YACvF,mBAAmB,CAAC,KAAK,CAAC,OAAO,GAAG,MAAM,CAAC;IAC/C,CAAC,CAAC;IAEF;;;IAGA,UAAU,CAAC,SAAS,CAAC,gBAAgB,GAAG;QACtC,IAAI,aAAa,GAAG,QAAQ,CAAC,cAAc,CAAC,eAAe,CAAC,CAAC;QAC7D,IAAI,aAAa,IAAI,aAAa,CAAC,KAAK,IAAI,aAAa,CAAC,KAAK,CAAC,OAAO;YACrE,aAAa,CAAC,KAAK,CAAC,OAAO,GAAG,GAAG,CAAC;IACtC,CAAC,CAAC;IAEF;;;IAGA,UAAU,CAAC,SAAS,CAAC,gBAAgB,GAAG;QACtC,IAAI,OAAO,IAAI,KAAK,WAAW,EAAE;YAC/B,IAAI,OAAO,GAAG,IAAI,CAAC,SAAS,CAAC,WAAW,CAAC,WAAW,EAAE,CAAC;YACvD,IAAI,OAAO,IAAI,OAAO,CAAC,iBAAiB,EAAE,EAAE;;gBAE1C,QAAQ,CAAC,cAAc,CAAC,eAAe,CAAC,CAAC,KAAK,CAAC,OAAO,GAAG,GAAG,CAAC;aAC9D;iBAAM;gBACL,QAAQ,CAAC,cAAc,CAAC,eAAe,CAAC,CAAC,KAAK,CAAC,OAAO,GAAG,CAAC,CAAC;aAC5D;SACF;IACH,CAAC,CAAC;IAEF;;;IAGA,UAAU,CAAC,SAAS,CAAC,gBAAgB,GAAG;QACtC,IAAI,CAAC,UAAU,CAAC,aAAa,CAAC,OAAO,EAAE,EAAE;YACvC,QAAQ,CAAC,cAAc,CAAC,UAAU,CAAC,CAAC,KAAK,CAAC,OAAO,GAAG,CAAC,CAAC;YACtD,QAAQ,CAAC,cAAc,CAAC,gBAAgB,CAAC,CAAC,KAAK,CAAC,OAAO,GAAG,CAAC,CAAC;YAC5D,QAAQ,CAAC,cAAc,CAAC,gBAAgB,CAAC,CAAC,KAAK,CAAC,OAAO,GAAG,CAAC,CAAC;YAC5D,QAAQ,CAAC,cAAc,CAAC,iBAAiB,CAAC,CAAC,KAAK,CAAC,OAAO,GAAG,CAAC,CAAC;SAC9D;IACH,CAAC,CAAC;IAEF;;;IAGA,UAAU,CAAC,SAAS,CAAC,gBAAgB,GAAG;QACtC,QAAQ,CAAC,cAAc,CAAC,UAAU,CAAC,CAAC,KAAK,CAAC,OAAO,GAAG,CAAC,CAAC;QACtD,QAAQ,CAAC,cAAc,CAAC,gBAAgB,CAAC,CAAC,KAAK,CAAC,OAAO,GAAG,CAAC,CAAC;QAC5D,QAAQ,CAAC,cAAc,CAAC,gBAAgB,CAAC,CAAC,KAAK,CAAC,OAAO,GAAG,CAAC,CAAC;QAC5D,QAAQ,CAAC,cAAc,CAAC,iBAAiB,CAAC,CAAC,KAAK,CAAC,OAAO,GAAG,CAAC,CAAC;IAC/D,CAAC,CAAC;IAEF;;;IAGA,UAAU,CAAC,SAAS,CAAC,iBAAiB,GAAG;QACvC,IAAI,iBAAiB,GAAG,QAAQ,CAAC,cAAc,CAAC,gBAAgB,CAAC,CAAC,YAAY,CAAC;QAC/E,IAAI,yBAAyB,GAAG,cAAc,GAAG,iBAAiB,CAAC;QACnE,QAAQ,CAAC,cAAc,CAAC,gBAAgB,CAAC,CAAC,KAAK,CAAC,MAAM;YACpD,yBAAyB,GAAG,IAAI,CAAC;QACnC,QAAQ,CAAC,cAAc,CAAC,UAAU,CAAC,CAAC,KAAK,CAAC,OAAO,GAAG,OAAO,CAAC;QAC5D,QAAQ,CAAC,cAAc,CAAC,WAAW,CAAC,CAAC,KAAK,CAAC,OAAO,GAAG,MAAM,CAAC;IAC9D,CAAC,CAAC;IAEF;;;IAGA,UAAU,CAAC,SAAS,CAAC,YAAY,GAAG;;QAElC,QAAQ,CAAC,cAAc,CAAC,aAAa,CAAC,CAAC,SAAS;YAC9C,UAAU,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC;QACvC,QAAQ,CAAC,cAAc,CAAC,gBAAgB,CAAC,CAAC,SAAS;YACjD,UAAU,CAAC,aAAa,CAAC,UAAU,CAAC,iBAAiB,CAAC,CAAC,UAAU,CAAC,CAAC;QACrE,QAAQ,CAAC,cAAc,CAAC,YAAY,CAAC,CAAC,SAAS;YAC7C,UAAU,CAAC,aAAa,CAAC,UAAU,CAAC,iBAAiB,CAAC,CAAC,aAAa,CAAC,CAAC;;QAGxE,QAAQ,CAAC,cAAc,CAAC,aAAa,CAAC,CAAC,gBAAgB,CACrD,OAAO,EAAE,UAAU,CAAC,SAAS,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC;QAClD,QAAQ,CAAC,cAAc,CAAC,UAAU,CAAC,CAAC,gBAAgB,CAClD,OAAO,EAAE,UAAU,CAAC,SAAS,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC;QAClD,QAAQ,CAAC,cAAc,CAAC,oBAAoB,CAAC,CAAC,gBAAgB,CAC5D,SAAS,EAAE,UAAU,CAAC,SAAS,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC;QACpD,QAAQ,CAAC,cAAc,CAAC,UAAU,CAAC,CAAC,gBAAgB,CAClD,OAAO,EAAE,UAAU,CAAC,aAAa,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,aAAa,CAAC,CAAC,CAAC;QACzE,QAAQ,CAAC,cAAc,CAAC,WAAW,CAAC,CAAC,gBAAgB,CACnD,OAAO,EAAE,UAAU,CAAC,aAAa,CAAC,MAAM,CAAC,IAAI,CAAC,UAAU,CAAC,aAAa,CAAC,CAAC,CAAC;QAC3E,QAAQ,CAAC,cAAc,CAAC,UAAU,CAAC,CAAC,gBAAgB,CAClD,WAAW,EAAE,UAAU,CAAC,gBAAgB,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC;QAC7D,QAAQ,CAAC,cAAc,CAAC,UAAU,CAAC,CAAC,gBAAgB,CAClD,WAAW,EAAE,UAAU,CAAC,gBAAgB,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC;QAC7D,QAAQ,CAAC,cAAc,CAAC,gBAAgB,CAAC,CAAC,gBAAgB,CACxD,WAAW,EAAE,UAAU,CAAC,gBAAgB,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC;QAC7D,QAAQ,CAAC,cAAc,CAAC,gBAAgB,CAAC,CAAC,gBAAgB,CACxD,WAAW,EAAE,UAAU,CAAC,gBAAgB,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC;QAC7D,QAAQ,CAAC,cAAc,CAAC,gBAAgB,CAAC,CAAC,gBAAgB,CACxD,OAAO,EAAE,UAAU,CAAC,SAAS,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC;QAClD,QAAQ,CAAC,cAAc,CAAC,gBAAgB,CAAC,CAAC,gBAAgB,CACxD,OAAO,EAAE,UAAU,CAAC,SAAS,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC;QAClD,QAAQ,CAAC,cAAc,CAAC,UAAU,CAAC,CAAC,gBAAgB,CAClD,UAAU,EAAE,UAAU,CAAC,gBAAgB,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC;QAC5D,QAAQ,CAAC,cAAc,CAAC,UAAU,CAAC,CAAC,gBAAgB,CAClD,UAAU,EAAE,UAAU,CAAC,gBAAgB,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC;QAC5D,QAAQ,CAAC,cAAc,CAAC,YAAY,CAAC,CAAC,gBAAgB,CACpD,WAAW,EAAE,UAAU,CAAC,gBAAgB,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC;QAC7D,QAAQ,CAAC,cAAc,CAAC,YAAY,CAAC,CAAC,gBAAgB,CACpD,UAAU,EAAE,UAAU,CAAC,gBAAgB,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC;QAC5D,QAAQ,CAAC,cAAc,CAAC,eAAe,CAAC,CAAC,gBAAgB,CACvD,WAAW,EAAE,UAAU,CAAC,gBAAgB,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC;QAC7D,QAAQ,CAAC,cAAc,CAAC,eAAe,CAAC,CAAC,gBAAgB,CACvD,UAAU,EAAE,UAAU,CAAC,gBAAgB,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC;QAC5D,QAAQ,CAAC,cAAc,CAAC,mBAAmB,CAAC,CAAC,gBAAgB,CAC3D,OAAO,EAAE,UAAU,CAAC,iBAAiB,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC;QAC1D,QAAQ,CAAC,cAAc,CAAC,qBAAqB,CAAC,CAAC,gBAAgB,CAC7D,OAAO,EAAE,UAAU,CAAC,gBAAgB,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC;QACzD,QAAQ,CAAC,gBAAgB,CACvB,kBAAkB,EAAE,UAAU,CAAC,uBAAuB,CAAC,IAAI,CAAC,UAAU,CAAC,EAAE,KAAK,CAAC,CAAC;QAClF,QAAQ,CAAC,gBAAgB,CACvB,wBAAwB,EAAE,UAAU,CAAC,uBAAuB,CAAC,IAAI,CAAC,UAAU,CAAC,EAAE,KAAK,CAAC,CAAC;;QAGxF,QAAQ,CAAC,cAAc,CAAC,MAAM,CAAC,CAAC,gBAAgB,CAC9C,OAAO,EAAE,UAAU,CAAC,aAAa,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,aAAa,CAAC,CAAC,CAAC;QACzE,QAAQ,CAAC,cAAc,CAAC,OAAO,CAAC,CAAC,gBAAgB,CAC/C,OAAO,EAAE,UAAU,CAAC,aAAa,CAAC,KAAK,CAAC,IAAI,CAAC,UAAU,CAAC,aAAa,CAAC,CAAC,CAAC;QAC1E,QAAQ,CAAC,cAAc,CAAC,oBAAoB,CAAC,CAAC,SAAS,GAAG,IAAI,CAAC;IACjE,CAAC,CAAC;IAEF;;;IAGA,UAAU,CAAC,SAAS,CAAC,cAAc,GAAG;QACpC,IAAI,OAAO,UAAU,CAAC,SAAS,KAAK,WAAW,IAAI,UAAU,CAAC,SAAS,CAAC,YAAY,CAAC,IAAI,UAAU,CAAC,SAAS,CAAC,YAAY,CAAC,CAAC,MAAM,GAAG,CAAC,EAAE;YACtI,UAAU,CAAC,aAAa,GAAG,UAAU,CAAC,SAAS,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC;YAC3E,IAAI,EAAE,GAAG,QAAQ,CAAC,cAAc,CAAC,UAAU,CAAC,CAAC;YAC7C,IAAI,MAAM,GAAG,IAAI,CAAC;YAClB,IAAI,SAAS,GAAG,IAAI,CAAC;YACrB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,UAAU,CAAC,aAAa,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;gBACxD,MAAM,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;gBACvC,SAAS,GAAG,OAAO,GAAG,CAAC,GAAG,KAAK,CAAC;gBAChC,MAAM,CAAC,YAAY,CAAC,IAAI,EAAE,SAAS,CAAC,CAAC;gBACrC,MAAM,CAAC,YAAY,CAAC,OAAO,EAAE,OAAO,CAAC,CAAC;gBACtC,MAAM,CAAC,SAAS;oBACd,YAAY,GAAG,iBAAiB,GAAG,UAAU,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC;wBACvE,sBAAsB,CAAC;gBACzB,MAAM,CAAC,gBAAgB,CAAC,OAAO,EAAE,UAAU,CAAC,WAAW,CAAC,IAAI,CAAC,UAAU,EAAE,CAAC,CAAC,CAAC,CAAC;gBAC7E,EAAE,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC;aACxB;SACF;IACH,CAAC,CAAC;IAEF,UAAU,CAAC,SAAS,CAAC,gBAAgB,GAAG;QACtC,IAAI,OAAO,UAAU,CAAC,SAAS,KAAK,WAAW,IAAI,UAAU,CAAC,SAAS,CAAC,YAAY,CAAC,IAAI,UAAU,CAAC,SAAS,CAAC,YAAY,CAAC,CAAC,MAAM,GAAG,CAAC,EAAE;YACtI,UAAU,CAAC,aAAa,GAAG,UAAU,CAAC,SAAS,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC;YAC3E,OAAO,UAAU,CAAC,aAAa,CAAC;SACjC;aAAM;YACL,OAAO,IAAI,CAAC;SACb;IACH,CAAC,CAAC;IAEF;;;;;IAKA,UAAU,CAAC,eAAe,GAAG,UAAU,KAAK;QAC1C,QAAQ,KAAK,CAAC,IAAI;YAChB,KAAK,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC,mBAAmB;gBAC5C,OAAO,6BAA6B;qBACjC,KAAK,CAAC,WAAW,GAAG,IAAI,GAAG,KAAK,CAAC,WAAW,GAAG,EAAE,CAAC,CAAC;YACxD,KAAK,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC,MAAM;gBAC/B,OAAO,wCAAwC;qBAC5C,KAAK,CAAC,WAAW,GAAG,IAAI,GAAG,KAAK,CAAC,WAAW,GAAG,EAAE,CAAC,CAAC;YACxD,KAAK,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC,aAAa;gBACtC,OAAO,6CAA6C;qBACjD,KAAK,CAAC,WAAW,GAAG,IAAI,GAAG,KAAK,CAAC,WAAW,GAAG,EAAE,CAAC,CAAC;YACxD,KAAK,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC,iBAAiB;gBAC1C,OAAO,sCAAsC;qBAC1C,KAAK,CAAC,WAAW,GAAG,IAAI,GAAG,KAAK,CAAC,WAAW,GAAG,EAAE,CAAC,CAAC;YACxD,KAAK,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC,iBAAiB;gBAC1C,OAAO,iDAAiD;qBACrD,KAAK,CAAC,WAAW,GAAG,IAAI,GAAG,KAAK,CAAC,WAAW,GAAG,EAAE,CAAC,CAAC;YACxD,KAAK,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC,oBAAoB;gBAC7C,OAAO,sDAAsD;qBAC1D,KAAK,CAAC,WAAW,GAAG,IAAI,GAAG,KAAK,CAAC,WAAW,GAAG,EAAE,CAAC,CAAC;YACxD,KAAK,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC,aAAa;gBACtC,OAAO,2DAA2D;qBAC/D,KAAK,CAAC,WAAW,GAAG,IAAI,GAAG,KAAK,CAAC,WAAW,GAAG,EAAE,CAAC,CAAC;YACxD,KAAK,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC,OAAO;gBAChC,OAAO,0BAA0B;qBAC9B,KAAK,CAAC,WAAW,GAAG,IAAI,GAAG,KAAK,CAAC,WAAW,GAAG,EAAE,CAAC,CAAC;YACxD;gBACE,OAAO,KAAK,CAAC;SAChB;IACH,CAAC,CAAC;IAEF,IAAI,UAAU,GAAG,IAAI,UAAU,EAAE,CAAC;IAClC,MAAM,CAAC,uBAAuB,CAAC,GAAG,UAAU,WAAW;QACrD,IAAI,WAAW,EAAE;YACf,UAAU,CAAC,oBAAoB,EAAE,CAAC;SACnC;IACH,CAAC,CAAC;IAEF,MAAM,CAAC,UAAU,GAAG,UAAU;;ICpuC9B;;;;;;;;;;;;;;;;"}